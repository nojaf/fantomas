<!DOCTYPE html>
<html lang="en" data-root="https://fsprojects.github.io/fantomas/">
<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Florian Verdonck, Jindřich Ivánek, David Schaefer" name="author">
    <!-- Opengraph properties (https://ogp.me/) -->
    <meta property="og:site_name" content="fantomas">
    <meta property="og:title" content="F#
" />
    <meta property="og:url" content="https://fsprojects.github.io/fantomas/docs/contributors/FSharp.html">
    <meta property="og:type" content="website" />
    <!-- Twitter cards (https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/summary-card-with-large-image) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="https://fsprojects.github.io/fantomas/">
    <meta name="twitter:title" content="F#
">
    
    <title>F#
 | fantomas</title>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link href="https://fsprojects.github.io/fantomas/images/favicon.ico" rel="icon" sizes="32x32" type="image/png"/>
    <script type="application/javascript" src="https://fsprojects.github.io/fantomas/content/fsdocs-theme-set-dark.js"></script>
    <link href="https://fsprojects.github.io/fantomas/content/fsdocs-default.css" rel="stylesheet" type="text/css"/>
    <link href="https://fsprojects.github.io/fantomas/content/fsdocs-theme.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,600;1,400&family=Reem+Kufi:wght@400;500;700&display=swap" rel="stylesheet">

    
</head>
<body class="content">
<header>
    <div class="start">
        <div id="menu-toggle">
            <iconify-icon class="icon closed" height="22" icon="eva:menu-fill" width="22"></iconify-icon>
            <iconify-icon class="icon open" height="22" icon="mi:close" width="22"></iconify-icon>
            <input type="checkbox" name="mobile-menu" />
            <ul class="menu">
                <li class="nav-header">Links</li>
                <li class="nav-item"><a class="nav-link" href="https://github.com/fsprojects/fantomas/blob/main/LICENSE.md">License</a>
                </li>
                <li class="nav-item"><a class="nav-link"
                                        href="https://github.com/fsprojects/fantomas/blob/main/CHANGELOG.md">Release
                    Notes</a></li>
                <li class="nav-item"><a class="nav-link" href="https://github.com/fsprojects/fantomas/">Source
                    Repository</a></li>
                <li class="nav-header " id="end-users">
    End-users
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GettingStarted.html" class="nav-link" > Getting Started
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/StyleGuide.html" class="nav-link" > Style guide
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Configuration.html" class="nav-link" > Configuration
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/IgnoreFiles.html" class="nav-link" > Ignore Files
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/FormattingCheck.html" class="nav-link" > Formatting Check
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GitHooks.html" class="nav-link" > Git hooks
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Rider.html" class="nav-link" > JetBrains Rider
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/VisualStudio.html" class="nav-link" > Visual Studio
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/VSCode.html" class="nav-link" > Visual Studio Code
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GeneratingCode.html" class="nav-link" > Generating source code
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/UpgradeGuide.html" class="nav-link" > Upgrade guide
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Recipes.html" class="nav-link" > Recipes
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/FAQ.html" class="nav-link" > FAQ
</a></li>

</div>
<li class="nav-header active" id="contributors">
    Contributors
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Index.html" class="nav-link" > Contributors
</a></li>

<li class="nav-item active"><a href="https://fsprojects.github.io/fantomas/docs/contributors/FSharp.html" class="nav-link" > F#
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Getting Started.html" class="nav-link" > Getting started
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Solution Structure.html" class="nav-link" > Solution structure
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Transforming.html" class="nav-link" > Fantomas.Core overview (1)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Traverse.html" class="nav-link" > Fantomas.Core overview (2)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Formatted Code.html" class="nav-link" > Fantomas.Core overview (3)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Conditional Compilation Directives.html" class="nav-link" > Formatting Conditional Compilation Directives
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/How Can I Contribute.html" class="nav-link" > How can I contribute?
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/The Missing Comment.html" class="nav-link" > The Missing Comment
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Multiple Times.html" class="nav-link" > Fantomas is trying to format the input multiple times due to the detection of multiple defines
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Pull request ground rules.html" class="nav-link" > Pull request ground rules
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Updating the compiler.html" class="nav-link" > Updating the compiler sources
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Releases.html" class="nav-link" > Releases
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Glossary.html" class="nav-link" > Glossary
</a></li>

</div>
                <li class="nav-header " id="api_reference">
    API Reference
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item active"><a href="https://fsprojects.github.io/fantomas/reference/index.html" class="nav-link" > All Namespaces</a></li>

</div>
            </ul>
        </div>
        <a href="https://fsprojects.github.io/fantomas/">
            <img alt="Header menu logo" src="https://fsprojects.github.io/fantomas/images/logo.png">
            <strong>fantomas</strong>
        </a>
    </div>
    <div class="end">
        <a href="https://github.com/fsprojects/fantomas/" target="_blank">
            <iconify-icon icon="uil:github" width="26" height="26"></iconify-icon>
        </a>
        <iconify-icon id="search-btn" icon="carbon:search" class="search" width="24" height="24"></iconify-icon>
        <fsdocs-theme-toggle></fsdocs-theme-toggle>
    </div>
</header>
<aside id="fsdocs-main-menu">
    <ul class="menu">
        <li class="nav-header">Links</li>
        <li class="nav-item"><a class="nav-link" href="https://github.com/fsprojects/fantomas/blob/main/LICENSE.md">License</a>
        </li>
        <li class="nav-item"><a class="nav-link"
                                href="https://github.com/fsprojects/fantomas/blob/main/CHANGELOG.md">Release
            Notes</a></li>
        <li class="nav-item"><a class="nav-link" href="https://github.com/fsprojects/fantomas/">Source
            Repository</a></li>
        <li class="nav-header " id="end-users">
    End-users
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GettingStarted.html" class="nav-link" > Getting Started
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/StyleGuide.html" class="nav-link" > Style guide
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Configuration.html" class="nav-link" > Configuration
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/IgnoreFiles.html" class="nav-link" > Ignore Files
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/FormattingCheck.html" class="nav-link" > Formatting Check
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GitHooks.html" class="nav-link" > Git hooks
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Rider.html" class="nav-link" > JetBrains Rider
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/VisualStudio.html" class="nav-link" > Visual Studio
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/VSCode.html" class="nav-link" > Visual Studio Code
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GeneratingCode.html" class="nav-link" > Generating source code
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/UpgradeGuide.html" class="nav-link" > Upgrade guide
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Recipes.html" class="nav-link" > Recipes
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/FAQ.html" class="nav-link" > FAQ
</a></li>

</div>
<li class="nav-header active" id="contributors">
    Contributors
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Index.html" class="nav-link" > Contributors
</a></li>

<li class="nav-item active"><a href="https://fsprojects.github.io/fantomas/docs/contributors/FSharp.html" class="nav-link" > F#
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Getting Started.html" class="nav-link" > Getting started
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Solution Structure.html" class="nav-link" > Solution structure
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Transforming.html" class="nav-link" > Fantomas.Core overview (1)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Traverse.html" class="nav-link" > Fantomas.Core overview (2)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Formatted Code.html" class="nav-link" > Fantomas.Core overview (3)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Conditional Compilation Directives.html" class="nav-link" > Formatting Conditional Compilation Directives
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/How Can I Contribute.html" class="nav-link" > How can I contribute?
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/The Missing Comment.html" class="nav-link" > The Missing Comment
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Multiple Times.html" class="nav-link" > Fantomas is trying to format the input multiple times due to the detection of multiple defines
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Pull request ground rules.html" class="nav-link" > Pull request ground rules
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Updating the compiler.html" class="nav-link" > Updating the compiler sources
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Releases.html" class="nav-link" > Releases
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Glossary.html" class="nav-link" > Glossary
</a></li>

</div>
        <li class="nav-header " id="api_reference">
    API Reference
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item active"><a href="https://fsprojects.github.io/fantomas/reference/index.html" class="nav-link" > All Namespaces</a></li>

</div>
    </ul>
</aside>
<main>
    <div id="content">
        
<h1><a name="F" class="anchor" href="#F">F#</a></h1>
<h2><a name="New-to-F" class="anchor" href="#New-to-F">New to F#?</a></h2>
<p>If you are truly brand-new to the F# language, you might want to start by reading the <a href="https://dotnet.microsoft.com/en-us/languages/fsharp">F# documentation of Microsoft</a>.<br />
Some other great resources (in no particular order) are:</p>
<ul>
<li><a href="https://leanpub.com/essential-fsharp">Essential F#</a></li>
<li><a href="https://fsharpforfunandprofit.com/">F# for Fun and Profit</a></li>
<li><a href="https://www.youtube.com/watch?v=SvOInBxPL30">F# Fundamentals Tutorial | Learn Functional Programming | Step-by-Step Guide</a></li>
<li><a href="https://fsharp.org/guides/slack/">F# Foundation Slack</a></li>
<li><a href="https://discord.com/invite/R6n7c54">F# on Discord</a></li>
</ul>
<h2><a name="Used-F-features" class="anchor" href="#Used-F-features">Used F# features</a></h2>
<p>F# has a lot of nice language features, although not all of them are used in Fantomas.
We wish to highlight the most important ones that we use before continuing:</p>
<ul>
<li>
<a href="https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/active-patterns#partial-active-patterns">Partial active patterns</a>, these are heavily used in <code>SourceParser.fs</code>.
In short, we use the <code>Untyped Abstract Syntax Tree</code> created by the F# parser, we don't use all the information in that tree to restore the source code.
</li>
</ul>
<p>For example <a href="https://fsprojects.github.io/fantomas/reference/fsharp-compiler-syntax-synexpr.html#For">SynExpr.For</a>, the definition looks like:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="rt">SynExpr</span> <span class="o">=</span>
    <span class="o">..</span><span class="pn">.</span>
    <span class="c">/// F# syntax: expr; expr</span>
    <span class="c">///</span>
    <span class="c">///  isTrueSeq: false indicates &quot;let v = a in b; v&quot;</span>
    <span class="pn">|</span> <span class="id">Sequential</span> <span class="k">of</span>
        <span class="id">debugPoint</span><span class="pn">:</span> <span class="id">DebugPointAtSequential</span> <span class="pn">*</span>
        <span class="id">isTrueSeq</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">bool</span> <span class="pn">*</span>
        <span class="id">expr1</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs1', 3)" onmouseover="showTip(event, 'fs1', 3)" class="id">SynExpr</span> <span class="pn">*</span>
        <span class="id">expr2</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs1', 4)" onmouseover="showTip(event, 'fs1', 4)" class="id">SynExpr</span> <span class="pn">*</span>
        <span class="id">range</span><span class="pn">:</span> <span class="id">range</span>
</code></pre>
<p>However, in Fantomas we have a partial active pattern that we use to easily grab the information we need from the AST.
These partial actives are mostly used and defined in <code>ASTTransformer.fs</code>.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="pn">(</span><span class="pn">|</span><span class="id">Sequentials</span><span class="pn">|</span><span class="id">_</span><span class="pn">|</span><span class="pn">)</span> <span class="id">e</span> <span class="o">=</span>
    <span class="k">let</span> <span class="k">rec</span> <span class="id">visit</span> <span class="pn">(</span><span class="id">e</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs1', 5)" onmouseover="showTip(event, 'fs1', 5)" class="id">SynExpr</span><span class="pn">)</span> <span class="pn">(</span><span class="id">finalContinuation</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs1', 6)" onmouseover="showTip(event, 'fs1', 6)" class="id">SynExpr</span> <span onmouseout="hideTip(event, 'fs3', 7)" onmouseover="showTip(event, 'fs3', 7)" class="id">list</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs1', 8)" onmouseover="showTip(event, 'fs1', 8)" class="id">SynExpr</span> <span onmouseout="hideTip(event, 'fs3', 9)" onmouseover="showTip(event, 'fs3', 9)" class="id">list</span><span class="pn">)</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs1', 10)" onmouseover="showTip(event, 'fs1', 10)" class="id">SynExpr</span> <span onmouseout="hideTip(event, 'fs3', 11)" onmouseover="showTip(event, 'fs3', 11)" class="id">list</span> <span class="o">=</span>
        <span class="k">match</span> <span class="id">e</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs1', 12)" onmouseover="showTip(event, 'fs1', 12)" class="id">SynExpr</span><span class="pn">.</span><span class="id">Sequential</span><span class="pn">(</span><span class="id">_</span><span class="pn">,</span> <span class="id">_</span><span class="pn">,</span> <span class="id">e1</span><span class="pn">,</span> <span class="id">e2</span><span class="pn">,</span> <span class="id">_</span><span class="pn">)</span> <span class="k">-&gt;</span> <span class="id">visit</span> <span class="id">e2</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">xs</span> <span class="k">-&gt;</span> <span class="id">e1</span> <span class="o">::</span> <span class="id">xs</span> <span class="o">|&gt;</span> <span class="id">finalContinuation</span><span class="pn">)</span>
        <span class="pn">|</span> <span class="id">e</span> <span class="k">-&gt;</span> <span class="id">finalContinuation</span> <span class="pn">[</span> <span class="id">e</span> <span class="pn">]</span>

    <span class="k">match</span> <span class="id">e</span> <span class="k">with</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs1', 13)" onmouseover="showTip(event, 'fs1', 13)" class="id">SynExpr</span><span class="pn">.</span><span class="id">Sequential</span><span class="pn">(</span><span class="id">_</span><span class="pn">,</span> <span class="id">_</span><span class="pn">,</span> <span class="id">e1</span><span class="pn">,</span> <span class="id">e2</span><span class="pn">,</span> <span class="id">_</span><span class="pn">)</span> <span class="k">-&gt;</span>
        <span class="k">let</span> <span class="id">xs</span> <span class="o">=</span> <span class="id">visit</span> <span class="id">e2</span> <span onmouseout="hideTip(event, 'fs4', 14)" onmouseover="showTip(event, 'fs4', 14)" class="id">id</span>
        <span onmouseout="hideTip(event, 'fs5', 15)" onmouseover="showTip(event, 'fs5', 15)" class="id">Some</span><span class="pn">(</span><span class="id">e1</span> <span class="o">::</span> <span class="id">xs</span><span class="pn">)</span>
    <span class="pn">|</span> <span class="id">_</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs6', 16)" onmouseover="showTip(event, 'fs6', 16)" class="id">None</span>
</code></pre>
<p>Notice the underscores, we don't use the <code>DebugPointAtSequential</code> info and <code>range</code>, so we drop that information in the result of the partial active pattern.</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/operator-overloading#creating-new-operators">Custom operators</a>. In F# there are some special operators like <a href="https://fsharp.github.io/fsharp-core-docs/reference/fsharp-core-operators.html#(|%3E)">|&gt;</a> and <a href="https://fsharp.github.io/fsharp-core-docs/reference/fsharp-core-operators.html#(%3E%3E)">&gt;&gt;</a>.</li>
</ul>
<p>Note that these are just functions themselves as well. Instead of specifying all the arguments after the function name, (infix) operators let you specify an argument before the operator and after.</p>
<p>In F#, you are able to create your own operators as well. In Fantomas, the most notable are <code>!-</code> and <code>+&gt;</code>. We will cover them later, but if you peek in <code>CodePrinter.fs</code>, they are heavily used there.</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/signature-files">Signature files</a>.</li>
</ul>
<p>In Fantomas we use signature files to define the module boundaries. Everything that is both defined in the implementation file (the <code>*.fs</code> file) and in the signature file (the <code>*.fsi</code> file) is considered to be visible to other modules.
If a signature file is present, there is no need to specify <code>private</code> in a function you don't want to be visible to other modules. Just don't add a <code>val</code> entry to the signature file and it will be private automatically.
You can look at a signature file to get a glimpse of what the module really does.</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/type-extensions">Type extensions</a>.</li>
</ul>
<p>In contrast to partial active patterns, where we want to hide some AST information, it can occur that we need to extend the type of an AST node.
We do this by adding a new type member to an existing Syntax tree type.
Example in <code>Trivia.fs</code>:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span class="id">CommentTrivia</span> <span class="k">with</span>

    <span class="k">member</span> <span class="id">x</span><span class="pn">.</span><span class="id">Range</span> <span class="o">=</span>
        <span class="k">match</span> <span class="id">x</span> <span class="k">with</span>
        <span class="pn">|</span> <span class="id">CommentTrivia</span><span class="pn">.</span><span class="id">BlockComment</span> <span class="id">m</span>
        <span class="pn">|</span> <span class="id">CommentTrivia</span><span class="pn">.</span><span class="id">LineComment</span> <span class="id">m</span> <span class="k">-&gt;</span> <span class="id">m</span>
</code></pre>
<p>The type <code>SynMemberFlags</code> does not expose any range information, but we can extend it to do so.<br />
The <code>.FullRange</code> naming convention is used to indicate that we are not satisfied by the original range or it is lacking all together.<br />
Don't worry just yet about this implementation, so keep in mind that with this feature we can later use <code>memberFlags.FullRange</code> on a <code>SynMemberFlags</code> instance.</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/functions/#function-values">Function Values</a></li>
</ul>
<p>This is well-known concept in F# and for completion sake we do mention this. In F#, you can pass a function as an argument to another function.
Fantomas is full of this kind of functions, so be sure to grasp this concept before continuing.</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/functions/recursive-functions-the-rec-keyword#tail-recursion">Tail recursion</a></li>
</ul>
<p>There are places in the code base where we use some more advanced recursion techniques. <code>ASTTransformer.fs</code> is one of them.<br />
A very good explanation of what happens here can be found in this <a href="https://www.gresearch.co.uk/blog/article/advanced-recursion-techniques-in-f/">blogpost</a>.</p>
<ul>
<li><a href="https://medium.com/@dzoukr/event-sourcing-step-by-step-in-f-be808aa0ca18">Event Sourcing</a></li>
</ul>
<p>We use event sourcing to capture the instructions on how to write the new code. Instead of writing the new code directly to for example a <code>StringBuilder</code>, we write it to a list of events.<br />
That list of events will contain instructions like <code>Write "let"</code>, <code>IndentBy 4</code>, <code>WriteLine</code> etc. So it is useful to have some notion of event sourcing.</p>
<p>Although, it really is an implementation detail in <code>Context.fs</code>, think of it as writing a letter with a pen and a paper.
We first rehearse what we want to say, then we write the letter. Not write evey word as we are making up the letter, but write the letter as a whole once we know the content.<br />
These events are used to achieve this.</p>
<fantomas-nav previous="Index.html" next="Getting%20Started.html"></fantomas-nav>

        <div class="fsdocs-tip" id="fs1">type SynExpr</div>
<div class="fsdocs-tip" id="fs2">type bool = System.Boolean</div>
<div class="fsdocs-tip" id="fs3">type &#39;T list = List&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs4">val id: x: &#39;T -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs5">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs6">union case Option.None: Option&lt;&#39;T&gt;</div>

    </div>
</main>
<aside id="fsdocs-page-menu">
    <p id="on-this-page">On this page</p>
    <ul>
  <li class="level-1">
    <a href="#F">
      F#
    </a>
  </li>
  <li class="level-2">
    <a href="#New-to-F">
      New to F#?
    </a>
  </li>
  <li class="level-2">
    <a href="#Used-F-features">
      Used F# features
    </a>
  </li>
</ul>
</aside>
<dialog>
    <input type="search" placeholder="Search docs" />
    <div class="results">
        <ul></ul>
        <p class="empty">Type something to start searching.</p>
    </div>
</dialog>
<script type="module" src="https://fsprojects.github.io/fantomas/content/fsdocs-tips.js"></script>
<script type="module" src="https://fsprojects.github.io/fantomas/content/fsdocs-theme-toggle.js"></script>
<script type="module" src="https://fsprojects.github.io/fantomas/content/fsdocs-theme.js"></script>
<script type="module" src="https://fsprojects.github.io/fantomas/content/fsdocs-search.js"></script>
<script type="module">
    import mermaid from "https://esm.sh/mermaid@9.2.2";
    mermaid.initialize({
        startOnLoad: true,
        theme: "base",
        themeVariables: {
            primaryColor: '#338cbb',
            primaryTextColor: '#FFF',
            primaryBorderColor: '#5aacd6'
        }
    });

    const menuHeaders = [...document.querySelectorAll(".nav-header")].filter(nh => nh.id);
    menuHeaders.forEach(nv => {
        nv.addEventListener("click", () => {
            nv.classList.toggle("active");
        })
    })
</script>
<script type="module" src="https://fsprojects.github.io/fantomas/content/webcomponents.js"></script>
</body>
</html>