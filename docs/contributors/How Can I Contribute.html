<!DOCTYPE html>
<html lang="en" data-root="https://fsprojects.github.io/fantomas/">
<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Florian Verdonck, Jindřich Ivánek, David Schaefer" name="author">
    <!-- Opengraph properties (https://ogp.me/) -->
    <meta property="og:site_name" content="fantomas">
    <meta property="og:title" content="How can I contribute?
" />
    <meta property="og:url" content="https://fsprojects.github.io/fantomas/docs/contributors/How Can I Contribute.html">
    <meta property="og:type" content="website" />
    <!-- Twitter cards (https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/summary-card-with-large-image) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="https://fsprojects.github.io/fantomas/">
    <meta name="twitter:title" content="How can I contribute?
">
    
    <title>How can I contribute?
 | fantomas</title>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link href="https://fsprojects.github.io/fantomas/images/favicon.ico" rel="icon" sizes="32x32" type="image/png"/>
    <script type="application/javascript" src="https://fsprojects.github.io/fantomas/content/fsdocs-theme-set-dark.js"></script>
    <link href="https://fsprojects.github.io/fantomas/content/fsdocs-default.css" rel="stylesheet" type="text/css"/>
    <link href="https://fsprojects.github.io/fantomas/content/fsdocs-theme.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,600;1,400&family=Reem+Kufi:wght@400;500;700&display=swap" rel="stylesheet">

    
</head>
<body class="content">
<header>
    <div class="start">
        <div id="menu-toggle">
            <iconify-icon class="icon closed" height="22" icon="eva:menu-fill" width="22"></iconify-icon>
            <iconify-icon class="icon open" height="22" icon="mi:close" width="22"></iconify-icon>
            <input type="checkbox" name="mobile-menu" />
            <ul class="menu">
                <li class="nav-header">Links</li>
                <li class="nav-item"><a class="nav-link" href="https://github.com/fsprojects/fantomas/blob/main/LICENSE.md">License</a>
                </li>
                <li class="nav-item"><a class="nav-link"
                                        href="https://github.com/fsprojects/fantomas/blob/main/CHANGELOG.md">Release
                    Notes</a></li>
                <li class="nav-item"><a class="nav-link" href="https://github.com/fsprojects/fantomas/">Source
                    Repository</a></li>
                <li class="nav-header " id="end-users">
    End-users
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GettingStarted.html" class="nav-link" > Getting Started
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/StyleGuide.html" class="nav-link" > Style guide
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Configuration.html" class="nav-link" > Configuration
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/IgnoreFiles.html" class="nav-link" > Ignore Files
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/FormattingCheck.html" class="nav-link" > Formatting Check
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GitHooks.html" class="nav-link" > Git hooks
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Rider.html" class="nav-link" > JetBrains Rider
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/VisualStudio.html" class="nav-link" > Visual Studio
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/VSCode.html" class="nav-link" > Visual Studio Code
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GeneratingCode.html" class="nav-link" > Generating source code
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/UpgradeGuide.html" class="nav-link" > Upgrade guide
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Recipes.html" class="nav-link" > Recipes
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/FAQ.html" class="nav-link" > FAQ
</a></li>

</div>
<li class="nav-header active" id="contributors">
    Contributors
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Index.html" class="nav-link" > Contributors
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/FSharp.html" class="nav-link" > F#
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Getting Started.html" class="nav-link" > Getting started
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Solution Structure.html" class="nav-link" > Solution structure
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Transforming.html" class="nav-link" > Fantomas.Core overview (1)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Traverse.html" class="nav-link" > Fantomas.Core overview (2)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Formatted Code.html" class="nav-link" > Fantomas.Core overview (3)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Conditional Compilation Directives.html" class="nav-link" > Formatting Conditional Compilation Directives
</a></li>

<li class="nav-item active"><a href="https://fsprojects.github.io/fantomas/docs/contributors/How Can I Contribute.html" class="nav-link" > How can I contribute?
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/The Missing Comment.html" class="nav-link" > The Missing Comment
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Multiple Times.html" class="nav-link" > Fantomas is trying to format the input multiple times due to the detection of multiple defines
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Pull request ground rules.html" class="nav-link" > Pull request ground rules
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Updating the compiler.html" class="nav-link" > Updating the compiler sources
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Releases.html" class="nav-link" > Releases
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Glossary.html" class="nav-link" > Glossary
</a></li>

</div>
                <li class="nav-header " id="api_reference">
    API Reference
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item active"><a href="https://fsprojects.github.io/fantomas/reference/index.html" class="nav-link" > All Namespaces</a></li>

</div>
            </ul>
        </div>
        <a href="https://fsprojects.github.io/fantomas/">
            <img alt="Header menu logo" src="https://fsprojects.github.io/fantomas/images/logo.png">
            <strong>fantomas</strong>
        </a>
    </div>
    <div class="end">
        <a href="https://github.com/fsprojects/fantomas/" target="_blank">
            <iconify-icon icon="uil:github" width="26" height="26"></iconify-icon>
        </a>
        <iconify-icon id="search-btn" icon="carbon:search" class="search" width="24" height="24"></iconify-icon>
        <fsdocs-theme-toggle></fsdocs-theme-toggle>
    </div>
</header>
<aside id="fsdocs-main-menu">
    <ul class="menu">
        <li class="nav-header">Links</li>
        <li class="nav-item"><a class="nav-link" href="https://github.com/fsprojects/fantomas/blob/main/LICENSE.md">License</a>
        </li>
        <li class="nav-item"><a class="nav-link"
                                href="https://github.com/fsprojects/fantomas/blob/main/CHANGELOG.md">Release
            Notes</a></li>
        <li class="nav-item"><a class="nav-link" href="https://github.com/fsprojects/fantomas/">Source
            Repository</a></li>
        <li class="nav-header " id="end-users">
    End-users
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GettingStarted.html" class="nav-link" > Getting Started
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/StyleGuide.html" class="nav-link" > Style guide
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Configuration.html" class="nav-link" > Configuration
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/IgnoreFiles.html" class="nav-link" > Ignore Files
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/FormattingCheck.html" class="nav-link" > Formatting Check
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GitHooks.html" class="nav-link" > Git hooks
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Rider.html" class="nav-link" > JetBrains Rider
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/VisualStudio.html" class="nav-link" > Visual Studio
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/VSCode.html" class="nav-link" > Visual Studio Code
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GeneratingCode.html" class="nav-link" > Generating source code
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/UpgradeGuide.html" class="nav-link" > Upgrade guide
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Recipes.html" class="nav-link" > Recipes
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/FAQ.html" class="nav-link" > FAQ
</a></li>

</div>
<li class="nav-header active" id="contributors">
    Contributors
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Index.html" class="nav-link" > Contributors
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/FSharp.html" class="nav-link" > F#
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Getting Started.html" class="nav-link" > Getting started
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Solution Structure.html" class="nav-link" > Solution structure
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Transforming.html" class="nav-link" > Fantomas.Core overview (1)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Traverse.html" class="nav-link" > Fantomas.Core overview (2)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Formatted Code.html" class="nav-link" > Fantomas.Core overview (3)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Conditional Compilation Directives.html" class="nav-link" > Formatting Conditional Compilation Directives
</a></li>

<li class="nav-item active"><a href="https://fsprojects.github.io/fantomas/docs/contributors/How Can I Contribute.html" class="nav-link" > How can I contribute?
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/The Missing Comment.html" class="nav-link" > The Missing Comment
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Multiple Times.html" class="nav-link" > Fantomas is trying to format the input multiple times due to the detection of multiple defines
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Pull request ground rules.html" class="nav-link" > Pull request ground rules
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Updating the compiler.html" class="nav-link" > Updating the compiler sources
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Releases.html" class="nav-link" > Releases
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Glossary.html" class="nav-link" > Glossary
</a></li>

</div>
        <li class="nav-header " id="api_reference">
    API Reference
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item active"><a href="https://fsprojects.github.io/fantomas/reference/index.html" class="nav-link" > All Namespaces</a></li>

</div>
    </ul>
</aside>
<main>
    <div id="content">
        
<h1><a name="How-can-I-contribute" class="anchor" href="#How-can-I-contribute">How can I contribute?</a></h1>
<p>There are many ways to contribute to an open-source project. From liking a tweet to show some interest to solving a heavy handed coding problem.<br />
The most obvious thing where we can use some help is fixing bugs, but there are a lot of other things that most certainly would be welcome.</p>
<h2><a name="Bug-fixes" class="anchor" href="#Bug-fixes">Bug fixes</a></h2>
<p><strong>The most welcome additions to the project are bug fixes</strong>. The philosophy behind this is that everyone should be able to fix their own bug.
If we can achieve this as a community, we can share the workload and all benefit together.
The project can move at a faster pace and improve as a whole.</p>
<p>We strongly encourage people to embrace the reward of solving their own problems.
We'll ask for a regression test when you fix a bug, to guarantee that you won't encounter the bug again.</p>
<h3><a name="bug-soundness" class="anchor" href="#bug-soundness">bug (soundness)</a></h3>
<p>Our goal is for Fantomas to be able to format all files out of the box without breaking correctness.
It's very important to us that a new user's experience is smooth and at the very least results in correct code.
Bugs labelled <code>bug (soundness)</code> all indicate places where a new user might bounce off Fantomas because it actually broke their code.
We want to make sure users get a chance to explore the settings and tweak the style.
If you can help us out by fixing a soundness bug, you can really help the project move forward.</p>
<h3><a name="bug-stylistic" class="anchor" href="#bug-stylistic">bug (stylistic)</a></h3>
<p>Besides breaking correctness another kind of bug is that the style of the output might not be what you expect.
Bugs like this are labelled as <code>bug (stylistic)</code>.
This includes cases where Fantomas breaks one of its own formatting rules or fails to respect one of its settings.</p>
<p>Again, here: scratch your own itch. If something bothers you, the best cure is to try a take a stab at it yourself.</p>
<h2><a name="Good-first-issues" class="anchor" href="#Good-first-issues">Good first issues</a></h2>
<p>If you wish to solve an issue, but don't know where to start, you can take a look that <a href="https://github.com/fsprojects/fantomas/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22">good first issue</a> list.<br />
These issues are typically easier to pick up and might only require a few small changes to solve them.</p>
<p>In case you want to solve any issue and would like some more guidance to start, you can also just ask this on the GitHub issue.
The maintainer can give you additional pointers to get you on your way.</p>
<h2><a name="Adoption" class="anchor" href="#Adoption">Adoption</a></h2>
<p>The dream is that every F# developer can use Fantomas at any time.
This aspiration is an odyssey that might never be complete, but any step in that direction is most welcome.
Try introducing automatic formatting in your project, at work, or in an open-source project.
This tool will only improve by adoption.</p>
<h3><a name="fsprojects" class="anchor" href="#fsprojects">fsprojects</a></h3>
<p>As Fantomas is part of the <a href="https://github.com/fsprojects/">F# Community Project Incubation Space</a>, it would be nice to see all the sibling projects formatted as well.<br />
We've put a lot of emphasis on <a href="../end-users/FormattingCheck.html">continued formatting</a> using the <code>--check</code> flag. Having that <strong>CI setup</strong> in place <strong>really brings it home</strong>.</p>
<h3><a name="Big-fish" class="anchor" href="#Big-fish">Big fish</a></h3>
<p>For marketing purposes, it is also very interesting if a larger or well-known project is using Fantomas.<br />
We can put these on our <a href="../../index.html#who-uses-fantomas">landing page</a> and that really sends a strong message.</p>
<h3><a name="Any-fish-really" class="anchor" href="#Any-fish-really">Any fish really</a></h3>
<p>Regardless of size or type of project. Any project that checks Fantomas in their CI system <a href="https://youtu.be/IQXby29_tVo">is most welcome</a>.</p>
<h2><a name="Sponsoring" class="anchor" href="#Sponsoring">Sponsoring</a></h2>
<p>Fantomas grew significantly as a result of its first sponsorship deal with <a href="https://www.gresearch.co.uk/">G-Research</a>.<br />
It would still be in the dark ages if it weren't for this support. For that we will forever be grateful.<br />
If you want to help increase adoption by providing financial support, you can reach out to <a href="mailto:sponsoring@fantomas.io">sponsoring@fantomas.io</a>.</p>
<h2><a name="Keeping-the-grass-green" class="anchor" href="#Keeping-the-grass-green">Keeping the grass green</a></h2>
<p>There are also some smaller deeds that can benefit the codebase.</p>
<h3><a name="Eliminate-dead-code" class="anchor" href="#Eliminate-dead-code">Eliminate dead code</a></h3>
<p>Here and there, there are parts of code that are no longer being used. Ranging from unused parameters to complete functions.<br />
A PR that cleans up these things would be appreciated as well.</p>
<h3><a name="Linting" class="anchor" href="#Linting">Linting</a></h3>
<p>Using F# Lint or other editor tooling, sometimes small improvements can be detected. Redundant parenthesis for example.<br />
Tweaks like this are nice.</p>
<h2><a name="Understand-how-things-work" class="anchor" href="#Understand-how-things-work">Understand how things work</a></h2>
<p>One other thing that changes your perception of code all together is knowing how Fantomas does what it does.<br />
Having a sense of the inner workings of Fantomas can be beneficial in understanding how the output was achieved.</p>
<p>It broadens your horizon in general, as it touched a lot of interesting concepts, and you start looking differently at your F# code.<br />
Your sentiment on what you think matters might change, once you realized the level of complexity it involves.</p>
<h2><a name="Documentation" class="anchor" href="#Documentation">Documentation</a></h2>
<p>Found a typo? Still confused about something? Do you have some knowledge that should totally be documented?<br />
Let us know! We really value any contribution to our documentation. The more knowledge is here, the brighter the future of the project.<br />
Please do no hesitate here 😊.</p>
<p>You can find some instructions on running the documentation locally in the <a href="https://github.com/fsprojects/fantomas/blob/main/docs/.README.md">.README.md</a> file in the <code>docs</code> folder.<br />
The only prerequisite to run the docs, is having a recent local dotnet sdk.</p>
<h2><a name="New-releases" class="anchor" href="#New-releases">New releases</a></h2>
<p>Testing out new releases is also a huge way to help us. Spotting regressions early really helps to fix them early.</p>
<h3><a name="Move-to-the-latest" class="anchor" href="#Move-to-the-latest">Move to the latest</a></h3>
<p>Always try and stay on the latest version of Fantomas for your day-to-day projects.<br />
Updating to the newer version that might only have a couple of fixes might seem insignificant, but it really helps.</p>
<h3><a name="Try-alphas-and-betas" class="anchor" href="#Try-alphas-and-betas">Try alphas and betas</a></h3>
<p>Please give an alpha a spin if you are interested in submitting feedback for new development.<br />
Try both versions if you want to make sure everything still works for you.</p>
<p>Don't feel obliged to use an alpha/beta in your day-to-day flow, just try them to see if the potential next stable version will still work.<br />
We have <strong>over 2000 unit tests</strong>, that still doesn't tell us if the next release will break your code or not.</p>
<h2><a name="Improve-the-Syntax-Tree" class="anchor" href="#Improve-the-Syntax-Tree">Improve the Syntax Tree</a></h2>
<p>Fantomas uses the parser from the F# compiler to construct the untyped syntax tree.<br />
This tree is later used to reconstruct the code. The better the tree, the better Fantomas can operate on it.<br />
The tree can be improved over at <a href="https://github.com/dotnet/fsharp">dotnet/fsharp</a> when a valid use-case appears.</p>
<h3><a name="Trivia-nodes" class="anchor" href="#Trivia-nodes">Trivia nodes</a></h3>
<p>Trivia nodes in the syntax tree are nodes the compiler doesn't need to compile the code. However, for Fantomas they can be the missing link to perfectly restore the code.</p>
<p>For example, in issue <a href="https://github.com/fsprojects/fantomas/issues/2360">#2360</a>, the information about the <code>and</code> keyword is missing in the syntax tree.<br />
If this information was available in <a href="../../reference/fsharp-compiler-syntaxtrivia-syntypedefntrivia.html">SynTypeDefnTrivia</a>, the bug could be fixed.</p>
<h3><a name="Better-representation" class="anchor" href="#Better-representation">Better representation</a></h3>
<p>Sometimes the existing shape of the syntax tree doesn't quite cover the syntax perfectly.</p>
<p>For example, in issue <a href="https://github.com/fsprojects/fantomas/issues/2264">#2264</a>, the measure was represented as</p>
<p>Code:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="rt">Measure</span><span class="pn">&gt;]</span> <span class="k">type</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="rt">herth</span> <span class="o">=</span> <span class="o">/</span> <span class="id">second</span>
</code></pre>
<p>Old AST:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="id">Types</span>
   <span class="pn">(</span><span class="pn">[</span><span class="id">SynTypeDefn</span>
       <span class="pn">(</span><span class="id">SynComponentInfo</span>
          <span class="pn">(</span><span class="pn">[</span><span class="pn">{</span> <span class="id">Attributes</span> <span class="o">=</span> <span class="pn">[</span> <span class="o">..</span><span class="pn">.</span> <span class="pn">]</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="id">None</span><span class="pn">,</span> <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs2', 4)" onmouseover="showTip(event, 'fs2', 4)" class="id">herth</span><span class="pn">]</span><span class="pn">,</span>
           <span class="id">PreXmlDoc</span> <span class="pn">(</span><span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">0</span><span class="pn">)</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs4', 5)" onmouseover="showTip(event, 'fs4', 5)" class="id">FSharp</span><span class="pn">.</span><span class="id">Compiler</span><span class="pn">.</span><span class="id">Xml</span><span class="pn">.</span><span class="id">XmlDocCollector</span><span class="pn">)</span><span class="pn">,</span>
           <span class="k">false</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs3', 6)" onmouseover="showTip(event, 'fs3', 6)" class="id">None</span><span class="pn">,</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">17</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">22</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span>
        <span class="id">Simple</span>
          <span class="pn">(</span><span class="id">TypeAbbrev</span>
             <span class="pn">(</span><span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="id">Ok</span><span class="pn">,</span>
              <span class="id">Tuple</span>
                <span class="pn">(</span><span class="k">false</span><span class="pn">,</span>
                 <span class="pn">[</span><span class="pn">(</span><span class="k">true</span><span class="pn">,</span>
                   <span class="id">StaticConstant</span> <span class="pn">(</span><span class="id">Int32</span> <span class="n">1</span><span class="pn">,</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">25</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">33</span><span class="pn">)</span><span class="pn">)</span><span class="pn">)</span><span class="pn">;</span>
                  <span class="pn">(</span><span class="k">false</span><span class="pn">,</span>
                   <span class="id">LongIdent</span> <span class="pn">(</span><span class="id">SynLongIdent</span> <span class="pn">(</span><span class="pn">[</span><span class="id">second</span><span class="pn">]</span><span class="pn">,</span> <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs3', 8)" onmouseover="showTip(event, 'fs3', 8)" class="id">None</span><span class="pn">]</span><span class="pn">)</span><span class="pn">)</span><span class="pn">)</span><span class="pn">]</span><span class="pn">,</span> <span class="o">..</span><span class="pn">.</span><span class="pn">]</span>
</code></pre>
<p>Notice <code>StaticConstant (Int32 1, ...)</code>, the source code doesn't contain any <code>1</code> at all.</p>
<p>After <a href="https://github.com/dotnet/fsharp/pull/13440">dotnet/fsharp#13440</a>,</p>
<p>New AST:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="id">Types</span>
             <span class="pn">(</span><span class="pn">[</span><span class="id">SynTypeDefn</span>
                 <span class="pn">(</span><span class="id">SynComponentInfo</span>
                    <span class="pn">(</span><span class="pn">[</span><span class="pn">{</span> <span class="id">Attributes</span> <span class="o">=</span>
                         <span class="pn">[</span><span class="pn">{</span> <span class="id">TypeName</span> <span class="o">=</span> <span class="id">SynLongIdent</span> <span class="pn">(</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs1', 9)" onmouseover="showTip(event, 'fs1', 9)" class="id">Measure</span><span class="pn">]</span><span class="pn">,</span> <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs3', 10)" onmouseover="showTip(event, 'fs3', 10)" class="id">None</span><span class="pn">]</span><span class="pn">)</span>
                            <span class="id">ArgExpr</span> <span class="o">=</span> <span class="id">Const</span> <span class="pn">(</span><span class="id">Unit</span><span class="pn">,</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">2</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">9</span><span class="pn">)</span><span class="pn">)</span>
                            <span class="id">Target</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 11)" onmouseover="showTip(event, 'fs3', 11)" class="id">None</span>
                            <span class="id">AppliesToGetterAndSetter</span> <span class="o">=</span> <span class="k">false</span>
                            <span class="id">Range</span> <span class="o">=</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">2</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">9</span><span class="pn">)</span> <span class="pn">}</span><span class="pn">]</span>
                        <span class="id">Range</span> <span class="o">=</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">0</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">11</span><span class="pn">)</span> <span class="pn">}</span><span class="pn">]</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs3', 12)" onmouseover="showTip(event, 'fs3', 12)" class="id">None</span><span class="pn">,</span> <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs2', 13)" onmouseover="showTip(event, 'fs2', 13)" class="id">herth</span><span class="pn">]</span><span class="pn">,</span>
                     <span class="id">PreXmlDoc</span> <span class="pn">(</span><span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">0</span><span class="pn">)</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs4', 14)" onmouseover="showTip(event, 'fs4', 14)" class="id">FSharp</span><span class="pn">.</span><span class="id">Compiler</span><span class="pn">.</span><span class="id">Xml</span><span class="pn">.</span><span class="id">XmlDocCollector</span><span class="pn">)</span><span class="pn">,</span>
                     <span class="k">false</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs3', 15)" onmouseover="showTip(event, 'fs3', 15)" class="id">None</span><span class="pn">,</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">17</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">22</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span>
                  <span class="id">Simple</span>
                    <span class="pn">(</span><span class="id">TypeAbbrev</span>
                       <span class="pn">(</span><span onmouseout="hideTip(event, 'fs5', 16)" onmouseover="showTip(event, 'fs5', 16)" class="id">Ok</span><span class="pn">,</span>
                        <span class="id">Tuple</span>
                          <span class="pn">(</span><span class="k">false</span><span class="pn">,</span>
                           <span class="pn">[</span><span class="id">Slash</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">25</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">26</span><span class="pn">)</span><span class="pn">;</span>
                            <span class="id">Type</span>
                              <span class="pn">(</span><span class="id">LongIdent</span> <span class="pn">(</span><span class="id">SynLongIdent</span> <span class="pn">(</span><span class="pn">[</span><span class="id">second</span><span class="pn">]</span><span class="pn">,</span> <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs3', 17)" onmouseover="showTip(event, 'fs3', 17)" class="id">None</span><span class="pn">]</span><span class="pn">)</span><span class="pn">)</span><span class="pn">)</span><span class="pn">]</span><span class="pn">,</span>
                           <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">25</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">33</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">25</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">33</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span> <span class="o">..</span><span class="pn">.</span> <span class="pn">]</span>
</code></pre>
<p>This update to the tree made it very straightforward to fix the original bug in Fantomas.</p>
<p>Another example of code that could benefit from a better representation is <a href="https://github.com/fsprojects/fantomas/issues?q=is%3Aissue+is%3Aopen+extern">extern</a>.</p>
<fantomas-nav previous="Conditional%20Compilation%20Directives.html" next="The%20Missing%20Comment.html"></fantomas-nav>

        <div class="fsdocs-tip" id="fs1">Multiple items<br />type MeasureAttribute =
  inherit Attribute
  new: unit -&gt; MeasureAttribute<br /><br />--------------------<br />new: unit -&gt; MeasureAttribute</div>
<div class="fsdocs-tip" id="fs2">[&lt;Measure&gt;]
type herth = 1</div>
<div class="fsdocs-tip" id="fs3">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs4">namespace Microsoft.FSharp</div>
<div class="fsdocs-tip" id="fs5">union case Result.Ok: ResultValue: &#39;T -&gt; Result&lt;&#39;T,&#39;TError&gt;</div>

    </div>
</main>
<aside id="fsdocs-page-menu">
    <p id="on-this-page">On this page</p>
    <ul>
  <li class="level-1">
    <a href="#How-can-I-contribute">
      How can I contribute?
    </a>
  </li>
  <li class="level-2">
    <a href="#Bug-fixes">
      Bug fixes
    </a>
  </li>
  <li class="level-3">
    <a href="#bug-soundness">
      bug (soundness)
    </a>
  </li>
  <li class="level-3">
    <a href="#bug-stylistic">
      bug (stylistic)
    </a>
  </li>
  <li class="level-2">
    <a href="#Good-first-issues">
      Good first issues
    </a>
  </li>
  <li class="level-2">
    <a href="#Adoption">
      Adoption
    </a>
  </li>
  <li class="level-3">
    <a href="#fsprojects">
      fsprojects
    </a>
  </li>
  <li class="level-3">
    <a href="#Big-fish">
      Big fish
    </a>
  </li>
  <li class="level-3">
    <a href="#Any-fish-really">
      Any fish really
    </a>
  </li>
  <li class="level-2">
    <a href="#Sponsoring">
      Sponsoring
    </a>
  </li>
  <li class="level-2">
    <a href="#Keeping-the-grass-green">
      Keeping the grass green
    </a>
  </li>
  <li class="level-3">
    <a href="#Eliminate-dead-code">
      Eliminate dead code
    </a>
  </li>
  <li class="level-3">
    <a href="#Linting">
      Linting
    </a>
  </li>
  <li class="level-2">
    <a href="#Understand-how-things-work">
      Understand how things work
    </a>
  </li>
  <li class="level-2">
    <a href="#Documentation">
      Documentation
    </a>
  </li>
  <li class="level-2">
    <a href="#New-releases">
      New releases
    </a>
  </li>
  <li class="level-3">
    <a href="#Move-to-the-latest">
      Move to the latest
    </a>
  </li>
  <li class="level-3">
    <a href="#Try-alphas-and-betas">
      Try alphas and betas
    </a>
  </li>
  <li class="level-2">
    <a href="#Improve-the-Syntax-Tree">
      Improve the Syntax Tree
    </a>
  </li>
  <li class="level-3">
    <a href="#Trivia-nodes">
      Trivia nodes
    </a>
  </li>
  <li class="level-3">
    <a href="#Better-representation">
      Better representation
    </a>
  </li>
</ul>
</aside>
<dialog>
    <input type="search" placeholder="Search docs" />
    <div class="results">
        <ul></ul>
        <p class="empty">Type something to start searching.</p>
    </div>
</dialog>
<script type="module" src="https://fsprojects.github.io/fantomas/content/fsdocs-tips.js"></script>
<script type="module" src="https://fsprojects.github.io/fantomas/content/fsdocs-theme-toggle.js"></script>
<script type="module" src="https://fsprojects.github.io/fantomas/content/fsdocs-theme.js"></script>
<script type="module" src="https://fsprojects.github.io/fantomas/content/fsdocs-search.js"></script>
<script type="module">
    import mermaid from "https://esm.sh/mermaid@9.2.2";
    mermaid.initialize({
        startOnLoad: true,
        theme: "base",
        themeVariables: {
            primaryColor: '#338cbb',
            primaryTextColor: '#FFF',
            primaryBorderColor: '#5aacd6'
        }
    });

    const menuHeaders = [...document.querySelectorAll(".nav-header")].filter(nh => nh.id);
    menuHeaders.forEach(nv => {
        nv.addEventListener("click", () => {
            nv.classList.toggle("active");
        })
    })
</script>
<script type="module" src="https://fsprojects.github.io/fantomas/content/webcomponents.js"></script>
</body>
</html>