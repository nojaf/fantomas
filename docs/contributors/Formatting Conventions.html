<!DOCTYPE html>
<html lang="en" data-root="https://fsprojects.github.io/fantomas/">
<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Florian Verdonck, Jindřich Ivánek, David Schaefer" name="author">
    <!-- Opengraph properties (https://ogp.me/) -->
    <meta property="og:site_name" content="fantomas">
    <meta property="og:title" content="Formatting Conventions
" />
    <meta property="og:url" content="https://fsprojects.github.io/fantomas/docs/contributors/Formatting Conventions.html">
    <meta property="og:type" content="website" />
    <!-- Twitter cards (https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/summary-card-with-large-image) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="https://fsprojects.github.io/fantomas/">
    <meta name="twitter:title" content="Formatting Conventions
">
    
    <title>Formatting Conventions
 | fantomas</title>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link href="https://fsprojects.github.io/fantomas/images/favicon.ico" rel="icon" sizes="32x32" type="image/png"/>
    <script type="application/javascript" src="https://fsprojects.github.io/fantomas/content/fsdocs-theme-set-dark.js"></script>
    <script type="application/javascript" src="https://fsprojects.github.io/fantomas/content/fsdocs-details-set-expanded.js"></script>
    <link href="https://fsprojects.github.io/fantomas/content/fsdocs-default.css" rel="stylesheet" type="text/css"/>
    <link href="https://fsprojects.github.io/fantomas/content/fsdocs-theme.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,600;1,400&family=Reem+Kufi:wght@400;500;700&display=swap" rel="stylesheet">

    
</head>
<body class="content">
<header>
    <div class="start">
        <div id="menu-toggle">
            <iconify-icon class="icon closed" height="22" icon="eva:menu-fill" width="22"></iconify-icon>
            <iconify-icon class="icon open" height="22" icon="mi:close" width="22"></iconify-icon>
            <input type="checkbox" name="mobile-menu" />
            <ul class="menu">
                <li class="nav-header">Links</li>
                <li class="nav-item"><a class="nav-link" href="https://github.com/fsprojects/fantomas/blob/main/LICENSE.md">License</a>
                </li>
                <li class="nav-item"><a class="nav-link"
                                        href="https://github.com/fsprojects/fantomas/blob/main/CHANGELOG.md">Release
                    Notes</a></li>
                <li class="nav-item"><a class="nav-link" href="https://github.com/fsprojects/fantomas/">Source
                    Repository</a></li>
                <li class="nav-header " id="end-users">
    End-users
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GettingStarted.html" class="nav-link" > Getting Started
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/StyleGuide.html" class="nav-link" > Style guide
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Configuration.html" class="nav-link" > Configuration
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/IgnoreFiles.html" class="nav-link" > Ignore Files
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/FormattingCheck.html" class="nav-link" > Formatting Check
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GitHooks.html" class="nav-link" > Git hooks
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Rider.html" class="nav-link" > JetBrains Rider
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/VisualStudio.html" class="nav-link" > Visual Studio
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/VSCode.html" class="nav-link" > Visual Studio Code
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GeneratingCode.html" class="nav-link" > Generating source code
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/UpgradeGuide.html" class="nav-link" > Upgrade guide
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Recipes.html" class="nav-link" > Recipes
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/FAQ.html" class="nav-link" > FAQ
</a></li>

</div>
<li class="nav-header active" id="contributors">
    Contributors
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Index.html" class="nav-link" > Contributors
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/FSharp.html" class="nav-link" > F#
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Getting Started.html" class="nav-link" > Getting started
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Solution Structure.html" class="nav-link" > Solution structure
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Transforming.html" class="nav-link" > Fantomas.Core overview (1)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Traverse.html" class="nav-link" > Fantomas.Core overview (2)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Formatted Code.html" class="nav-link" > Fantomas.Core overview (3)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Conditional Compilation Directives.html" class="nav-link" > Formatting Conditional Compilation Directives
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/How Can I Contribute.html" class="nav-link" > How can I contribute?
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/The Missing Comment.html" class="nav-link" > The Missing Comment
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Multiple Times.html" class="nav-link" > Fantomas is trying to format the input multiple times due to the detection of multiple defines
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Pull request ground rules.html" class="nav-link" > Pull request ground rules
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Updating the compiler.html" class="nav-link" > Updating the compiler sources
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Releases.html" class="nav-link" > Releases
</a></li>

<li class="nav-item active"><a href="https://fsprojects.github.io/fantomas/docs/contributors/Formatting Conventions.html" class="nav-link" > Formatting Conventions
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/History.html" class="nav-link" > History
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Glossary.html" class="nav-link" > Glossary
</a></li>

</div>
                <li class="nav-header " id="api_reference">
    API Reference
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item active"><a href="https://fsprojects.github.io/fantomas/reference/index.html" class="nav-link" > All Namespaces</a></li>

</div>
            </ul>
        </div>
        <a href="https://fsprojects.github.io/fantomas/">
            <img alt="Header menu logo" src="https://fsprojects.github.io/fantomas/images/logo.png">
            <strong>fantomas</strong>
        </a>
    </div>
    <div class="end">
        <a href="https://github.com/fsprojects/fantomas/" target="_blank">
            <iconify-icon icon="uil:github" width="26" height="26"></iconify-icon>
        </a>
        <iconify-icon id="search-btn" icon="carbon:search" class="search" width="24" height="24"></iconify-icon>
        <fsdocs-theme-toggle></fsdocs-theme-toggle>
    </div>
</header>
<aside id="fsdocs-main-menu">
    <ul class="menu">
        <li class="nav-header">Links</li>
        <li class="nav-item"><a class="nav-link" href="https://github.com/fsprojects/fantomas/blob/main/LICENSE.md">License</a>
        </li>
        <li class="nav-item"><a class="nav-link"
                                href="https://github.com/fsprojects/fantomas/blob/main/CHANGELOG.md">Release
            Notes</a></li>
        <li class="nav-item"><a class="nav-link" href="https://github.com/fsprojects/fantomas/">Source
            Repository</a></li>
        <li class="nav-header " id="end-users">
    End-users
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GettingStarted.html" class="nav-link" > Getting Started
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/StyleGuide.html" class="nav-link" > Style guide
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Configuration.html" class="nav-link" > Configuration
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/IgnoreFiles.html" class="nav-link" > Ignore Files
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/FormattingCheck.html" class="nav-link" > Formatting Check
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GitHooks.html" class="nav-link" > Git hooks
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Rider.html" class="nav-link" > JetBrains Rider
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/VisualStudio.html" class="nav-link" > Visual Studio
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/VSCode.html" class="nav-link" > Visual Studio Code
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/GeneratingCode.html" class="nav-link" > Generating source code
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/UpgradeGuide.html" class="nav-link" > Upgrade guide
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/Recipes.html" class="nav-link" > Recipes
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/end-users/FAQ.html" class="nav-link" > FAQ
</a></li>

</div>
<li class="nav-header active" id="contributors">
    Contributors
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Index.html" class="nav-link" > Contributors
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/FSharp.html" class="nav-link" > F#
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Getting Started.html" class="nav-link" > Getting started
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Solution Structure.html" class="nav-link" > Solution structure
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Transforming.html" class="nav-link" > Fantomas.Core overview (1)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Traverse.html" class="nav-link" > Fantomas.Core overview (2)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Formatted Code.html" class="nav-link" > Fantomas.Core overview (3)
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Conditional Compilation Directives.html" class="nav-link" > Formatting Conditional Compilation Directives
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/How Can I Contribute.html" class="nav-link" > How can I contribute?
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/The Missing Comment.html" class="nav-link" > The Missing Comment
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Multiple Times.html" class="nav-link" > Fantomas is trying to format the input multiple times due to the detection of multiple defines
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Pull request ground rules.html" class="nav-link" > Pull request ground rules
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Updating the compiler.html" class="nav-link" > Updating the compiler sources
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Releases.html" class="nav-link" > Releases
</a></li>

<li class="nav-item active"><a href="https://fsprojects.github.io/fantomas/docs/contributors/Formatting Conventions.html" class="nav-link" > Formatting Conventions
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/History.html" class="nav-link" > History
</a></li>

<li class="nav-item "><a href="https://fsprojects.github.io/fantomas/docs/contributors/Glossary.html" class="nav-link" > Glossary
</a></li>

</div>
        <li class="nav-header " id="api_reference">
    API Reference
    <iconify-icon icon="fluent:chevron-up-24-regular" width="32" height="32" rotate="180deg"></iconify-icon>
</li>
<div class="menu-items">
    <li class="nav-item active"><a href="https://fsprojects.github.io/fantomas/reference/index.html" class="nav-link" > All Namespaces</a></li>

</div>
    </ul>
</aside>
<main>
    <div id="content">
        
<h1><a name="Formatting-Conventions" class="anchor" href="#Formatting-Conventions">Formatting Conventions</a></h1>
<blockquote>
<p>This document is a historical reference. It was the precursor to the <a href="https://learn.microsoft.com/en-us/dotnet/fsharp/style-guide/formatting">Microsoft F# formatting style guide</a>, which is now the authoritative source for F# formatting conventions. We preserve it here for its legacy value to the project.</p>
</blockquote>
<p>This article is written mostly based on <a href="https://web.archive.org/web/20070306131206/http://research.microsoft.com/fsharp/expert-fsharp-draft/FormattingConventions.doc">"F# Coding Guidelines"</a> (offline version) from Don Syme.
There are certain bits of the original document that need to be updated when F# has changed a lot in last few years.
Therefore, I attempt to reintroduce F# Formatting Conventions here and add some relevant information from other sources as well.
Another purpose of the article is to recognize requirements for an F# source code formatter I would like to create.</p>
<h2><a name="Table-of-Contents" class="anchor" href="#Table-of-Contents"><strong>Table of Contents</strong></a></h2>
<ul>
<li>
<a href="#general-rules-for-indentation">General rules for indentation</a>
<ul>
<li><a href="#using-spaces">Using spaces</a></li>
<li><a href="#offside-rule">Offside rule</a></li>
</ul>
</li>
<li>
<a href="#formatting-rules-for-syntactic-constructs">Formatting rules for syntactic constructs</a>
<ul>
<li><a href="#type-definitions">Type definitions</a></li>
<li>
<a href="#value-declarations">Value declarations</a>
<ul>
<li><a href="#tuples">Tuples</a></li>
<li><a href="#records">Records</a></li>
<li><a href="#lists-and-arrays">Lists and arrays</a></li>
<li><a href="#discriminated-unions">Discriminated unions</a></li>
</ul>
</li>
<li>
<a href="#conditional-expressions">Conditional expressions</a>
<ul>
<li><a href="#multiple-branches">Multiple branches</a></li>
<li><a href="#single-branches">Single branches</a></li>
</ul>
</li>
<li><a href="#pattern-matching-constructs">Pattern matching constructs</a></li>
<li><a href="#function-applications">Function applications</a></li>
<li><a href="#infix-operators">Infix operators</a></li>
<li><a href="#pipeline-operators">Pipeline operators</a></li>
<li><a href="#modules">Modules</a></li>
<li><a href="#object-expressions-and-interfaces">Object expressions and interfaces</a></li>
<li><a href="#whitespaces">Whitespaces</a></li>
<li><a href="#blank-lines">Blank lines</a></li>
<li><a href="#comments">Comments</a></li>
</ul>
</li>
<li><a href="#conclusions">Conclusions</a></li>
<li><a href="#references">References</a></li>
</ul>
<h2><a name="General-rules-for-indentation" class="anchor" href="#General-rules-for-indentation">General rules for indentation</a></h2>
<h3><a name="Using-spaces" class="anchor" href="#Using-spaces">Using spaces</a></h3>
<p>When indentation is required, you must use spaces, not tabs.
At least one space is required.
Your organization can create coding standards to specify the number of spaces to use for indentation; two, three or four spaces of indentation at each level where indentation occurs is typical.
That said, indentation of programs is a subjective matter.
Variations are OK, but the first rule you should follow is <em>consistency of indentation</em>:</p>
<blockquote>
<p>Choose a generally accepted style of indentation, then use it systematically throughout the whole application.</p>
</blockquote>
<p>You can configure Visual Studio to match your organization's indentation standards by changing the options in the <strong>Options</strong> dialog box, which is available from the <strong>Tools</strong> menu.
In the <strong>Text Editor</strong> node, expand <strong>F#</strong> and then click <strong>Tabs</strong>. For a description of the available options, see <a href="http://msdn.microsoft.com/en-us/library/7sffa753.aspx">Options, Text Editor, All Languages, Tabs</a>.</p>
<p>In general, when the compiler parses your code, it maintains an internal stack that indicates the current level of nesting.
When code is indented, a new level of nesting is created, or pushed onto this internal stack.
When a construct ends, the level is popped.
Indentation is one way to signal the end of a level and pop the internal stack, but certain tokens also cause the level to be popped, such as the <code>end</code> keyword, or a closing brace or parenthesis.</p>
<h3><a name="Offside-rule" class="anchor" href="#Offside-rule">Offside rule</a></h3>
<p>A page is often 80 columns wide.
Code in a multiline construct, such as a type definition, function definition, <code>try...with</code> construct, and looping constructs, must be indented relative to the opening line of the construct.
The first indented line establishes a column position for subsequent code in the same construct.
The indentation level is called a <em>context</em>. The column position sets a minimum column, referred to as an <em>offside line</em>, for subsequent lines of code that are in the same context.
When a line of code is encountered that is indented less than this established column position, the compiler assumes that the context has ended and that you are now coding at the next level up, in the previous context.
The term <em>offside</em> is used to describe the condition in which a line of code triggers the end of a construct because it is not indented far enough.
In other words, code to the left of an offside line is offside.
In correctly indented code, you take advantage of the offside rule in order to delineate the end of constructs.
If you use indentation improperly, an offside condition can cause the compiler to issue a warning or can lead to the incorrect interpretation of your code.
Offside lines are determined as follows.
- An <code>=</code> token associated with a let introduces an offside line at the column of the first token after the <code>=</code> sign.
- In an <code>if...then...else</code> expression, the column position of the first token after the <code>then</code> keyword or the <code>else</code> keyword introduces an offside line.
- In a <code>try...with</code> expression, the first token after <code>try</code> introduces an offside line.
- In a <code>match</code> expression, the first token after <code>with</code> and the first token after each <code>-&gt;</code> introduce offside lines.
- The first token after <code>with</code> in a type extension introduces an offside line.
- The first token after an opening brace or parenthesis, or after the <code>begin</code> keyword, introduces an offside line.
- The first character in the keywords <code>let</code>, <code>if</code>, and <code>module</code> introduce offside lines.</p>
<h2><a name="Formatting-rules-for-syntactic-constructs" class="anchor" href="#Formatting-rules-for-syntactic-constructs">Formatting rules for syntactic constructs</a></h2>
<p>Keep in mind that <em>code is read much more often than it is written</em>.
This section introduces a set of recommendations to improve the readability of code.
Consistency with the recommendations is important.
However, sometimes these formatting conventions do not apply.
It is a good reason to break a particular rule, if applying it would make the code less readable.</p>
<p>In this section, code fragments without comments are of good styles.
Bad coding styles will be explicitly specified by corresponding comments.
Although I also use 4 spaces as the indentation standard, all the rules are equally applied for 2, 3 spaces, etc.</p>
<h3><a name="Type-definitions" class="anchor" href="#Type-definitions">Type definitions</a></h3>
<p>Indent <code>|</code> in type definition by 4 spaces:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// OK</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="rt">Volume</span> <span class="o">=</span>
    <span class="pn">|</span> <span class="uc">Liter</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="vt">float</span>
    <span class="pn">|</span> <span class="uc">USPint</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs2', 3)" onmouseover="showTip(event, 'fs2', 3)" class="vt">float</span>
    <span class="pn">|</span> <span class="uc">ImperialPint</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs2', 4)" onmouseover="showTip(event, 'fs2', 4)" class="vt">float</span>

<span class="c">// Not OK</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs1', 5)" onmouseover="showTip(event, 'fs1', 5)" class="id">Volume</span> <span class="o">=</span>
<span class="pn">|</span> <span class="id">Liter</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs2', 6)" onmouseover="showTip(event, 'fs2', 6)" class="id">float</span>
<span class="pn">|</span> <span class="id">USPint</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs2', 7)" onmouseover="showTip(event, 'fs2', 7)" class="id">float</span>
<span class="pn">|</span> <span class="id">ImperialPint</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs2', 8)" onmouseover="showTip(event, 'fs2', 8)" class="id">float</span>
</code></pre>
<h3><a name="Value-declarations" class="anchor" href="#Value-declarations">Value declarations</a></h3>
<h4><a name="Tuples" class="anchor" href="#Tuples">Tuples</a></h4>
<p>A tuple is parenthesized and the commas therein (delimiters) are each followed by a space e.g. <code>(1, 2)</code>, <code>(x, y, z)</code>.</p>
<p>A <em>commonly accepted exception</em> is to omit parentheses in pattern matching of tuples.
The justification is to match multiple values, not construct new tuples.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs3', 9)" onmouseover="showTip(event, 'fs3', 9)" class="id">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs4', 10)" onmouseover="showTip(event, 'fs4', 10)" class="id">y</span> <span class="o">=</span> <span class="id">z</span>

<span class="k">match</span> <span onmouseout="hideTip(event, 'fs3', 11)" onmouseover="showTip(event, 'fs3', 11)" class="id">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs4', 12)" onmouseover="showTip(event, 'fs4', 12)" class="id">y</span> <span class="k">with</span>
<span class="pn">|</span> <span class="n">1</span><span class="pn">,</span> <span class="id">_</span> <span class="k">-&gt;</span> <span class="n">0</span>
<span class="pn">|</span> <span onmouseout="hideTip(event, 'fs3', 13)" onmouseover="showTip(event, 'fs3', 13)" class="fn">x</span><span class="pn">,</span> <span class="n">1</span> <span class="k">-&gt;</span> <span class="n">0</span>
<span class="pn">|</span> <span onmouseout="hideTip(event, 'fs3', 14)" onmouseover="showTip(event, 'fs3', 14)" class="fn">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs4', 15)" onmouseover="showTip(event, 'fs4', 15)" class="fn">y</span> <span class="k">-&gt;</span> <span class="n">1</span>
</code></pre>
<h4><a name="Records" class="anchor" href="#Records">Records</a></h4>
<p>Short records can be written in one line:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs5', 16)" onmouseover="showTip(event, 'fs5', 16)" class="id">point</span> <span class="o">=</span> <span class="pn">{</span> <span class="id">X</span> <span class="o">=</span> <span class="n">1.0</span><span class="pn">;</span> <span class="id">Y</span> <span class="o">=</span> <span class="n">0.0</span> <span class="pn">}</span>
</code></pre>
<p>Opening token for records starts in a new line. Closing token is normally on the end of line of last construct:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs6', 17)" onmouseover="showTip(event, 'fs6', 17)" class="id">rainbow</span> <span class="o">=</span>
    <span class="pn">{</span> <span class="id">boss</span> <span class="o">=</span> <span class="s">&quot;Jeffrey&quot;</span>
      <span class="id">lackeys</span> <span class="o">=</span> <span class="pn">[</span><span class="s">&quot;Zippy&quot;</span><span class="pn">;</span> <span class="s">&quot;George&quot;</span><span class="pn">;</span> <span class="s">&quot;Bungle&quot;</span><span class="pn">]</span> <span class="pn">}</span>
</code></pre>
<p>Not everyone likes this style, and variation is ok.
For large constructs (&gt; 6 lines) the closing token can be on a fresh line:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs6', 18)" onmouseover="showTip(event, 'fs6', 18)" class="id">rainbow</span> <span class="o">=</span>
    <span class="pn">{</span> <span class="id">boss1</span> <span class="o">=</span> <span class="s">&quot;Jeffrey&quot;</span>
      <span class="id">boss2</span> <span class="o">=</span> <span class="s">&quot;Jeffrey&quot;</span>
      <span class="id">boss3</span> <span class="o">=</span> <span class="s">&quot;Jeffrey&quot;</span>
      <span class="id">boss4</span> <span class="o">=</span> <span class="s">&quot;Jeffrey&quot;</span>
      <span class="id">boss5</span> <span class="o">=</span> <span class="s">&quot;Jeffrey&quot;</span>
      <span class="id">boss6</span> <span class="o">=</span> <span class="s">&quot;Jeffrey&quot;</span>
      <span class="id">boss7</span> <span class="o">=</span> <span class="s">&quot;Jeffrey&quot;</span>
      <span class="id">boss8</span> <span class="o">=</span> <span class="s">&quot;Jeffrey&quot;</span>
      <span class="id">lackeys</span> <span class="o">=</span> <span class="pn">[</span><span class="s">&quot;Zippy&quot;</span><span class="pn">;</span> <span class="s">&quot;George&quot;</span><span class="pn">;</span> <span class="s">&quot;Bungle&quot;</span><span class="pn">]</span>
    <span class="pn">}</span>
</code></pre>
<p>Assume that all fields are aligned at the same column, the trailing <code>;</code> right before each line break is optional.
You can also optionally include a trailing <code>;</code> for the last entry.
The same rule applies for list and array elements.</p>
<h4><a name="Lists-and-arrays" class="anchor" href="#Lists-and-arrays">Lists and arrays</a></h4>
<p>Write <code>x :: l</code> with spaces around the <code>::</code> operator (<code>::</code> is an infix operator, hence surrounded by spaces) and <code>[1; 2; 3]</code> (<code>;</code> is a delimiter, hence followed by a space).</p>
<p>Always use at least one space between two distinct parenthetical operators (e.g. leave a space between a <code>[</code> and a <code>{</code>).</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// OK</span>
<span class="pn">[</span> <span class="pn">{</span> <span class="id">IngredientName</span> <span class="o">=</span> <span class="s">&quot;Green beans&quot;</span><span class="pn">;</span> <span class="id">Quantity</span> <span class="o">=</span> <span class="n">250</span> <span class="pn">}</span>
  <span class="pn">{</span> <span class="id">IngredientName</span> <span class="o">=</span> <span class="s">&quot;Pine nuts&quot;</span><span class="pn">;</span> <span class="id">Quantity</span> <span class="o">=</span> <span class="n">250</span> <span class="pn">}</span>
  <span class="pn">{</span> <span class="id">IngredientName</span> <span class="o">=</span> <span class="s">&quot;Feta cheese&quot;</span><span class="pn">;</span> <span class="id">Quantity</span> <span class="o">=</span> <span class="n">250</span> <span class="pn">}</span>
  <span class="pn">{</span> <span class="id">IngredientName</span> <span class="o">=</span> <span class="s">&quot;Olive oil&quot;</span><span class="pn">;</span> <span class="id">Quantity</span> <span class="o">=</span> <span class="n">10</span> <span class="pn">}</span>
  <span class="pn">{</span> <span class="id">IngredientName</span> <span class="o">=</span> <span class="s">&quot;Lemon&quot;</span><span class="pn">;</span> <span class="id">Quantity</span> <span class="o">=</span> <span class="n">1</span> <span class="pn">}</span> <span class="pn">]</span>

<span class="c">// Not OK</span>
<span class="pn">[</span><span class="pn">{</span> <span class="id">IngredientName</span> <span class="o">=</span> <span class="s">&quot;Green beans&quot;</span><span class="pn">;</span> <span class="id">Quantity</span> <span class="o">=</span> <span class="n">250</span> <span class="pn">}</span>
 <span class="pn">{</span> <span class="id">IngredientName</span> <span class="o">=</span> <span class="s">&quot;Pine nuts&quot;</span><span class="pn">;</span> <span class="id">Quantity</span> <span class="o">=</span> <span class="n">250</span> <span class="pn">}</span>
 <span class="pn">{</span> <span class="id">IngredientName</span> <span class="o">=</span> <span class="s">&quot;Feta cheese&quot;</span><span class="pn">;</span> <span class="id">Quantity</span> <span class="o">=</span> <span class="n">250</span> <span class="pn">}</span>
 <span class="pn">{</span> <span class="id">IngredientName</span> <span class="o">=</span> <span class="s">&quot;Olive oil&quot;</span><span class="pn">;</span> <span class="id">Quantity</span> <span class="o">=</span> <span class="n">10</span> <span class="pn">}</span>
 <span class="pn">{</span> <span class="id">IngredientName</span> <span class="o">=</span> <span class="s">&quot;Lemon&quot;</span><span class="pn">;</span> <span class="id">Quantity</span> <span class="o">=</span> <span class="n">1</span> <span class="pn">}</span><span class="pn">]</span>
</code></pre>
<p>Lists and arrays that split across multiple lines follow a similar rule as records do:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs7', 19)" onmouseover="showTip(event, 'fs7', 19)" class="id">pascalsTriangle</span> <span class="o">=</span>
    <span class="pn">[|</span> <span class="pn">[|</span><span class="n">1</span><span class="pn">|]</span>
       <span class="pn">[|</span><span class="n">1</span><span class="pn">;</span> <span class="n">1</span><span class="pn">|]</span>
       <span class="pn">[|</span><span class="n">1</span><span class="pn">;</span> <span class="n">2</span><span class="pn">;</span> <span class="n">1</span><span class="pn">|]</span>
       <span class="pn">[|</span><span class="n">1</span><span class="pn">;</span> <span class="n">3</span><span class="pn">;</span> <span class="n">3</span><span class="pn">;</span> <span class="n">1</span><span class="pn">|]</span>
       <span class="pn">[|</span><span class="n">1</span><span class="pn">;</span> <span class="n">4</span><span class="pn">;</span> <span class="n">6</span><span class="pn">;</span> <span class="n">4</span><span class="pn">;</span> <span class="n">1</span><span class="pn">|]</span>
       <span class="pn">[|</span><span class="n">1</span><span class="pn">;</span> <span class="n">5</span><span class="pn">;</span> <span class="n">10</span><span class="pn">;</span> <span class="n">10</span><span class="pn">;</span> <span class="n">5</span><span class="pn">;</span> <span class="n">1</span><span class="pn">|]</span>
       <span class="pn">[|</span><span class="n">1</span><span class="pn">;</span> <span class="n">6</span><span class="pn">;</span> <span class="n">15</span><span class="pn">;</span> <span class="n">20</span><span class="pn">;</span> <span class="n">15</span><span class="pn">;</span> <span class="n">6</span><span class="pn">;</span> <span class="n">1</span><span class="pn">|]</span>
       <span class="pn">[|</span><span class="n">1</span><span class="pn">;</span> <span class="n">7</span><span class="pn">;</span> <span class="n">21</span><span class="pn">;</span> <span class="n">35</span><span class="pn">;</span> <span class="n">35</span><span class="pn">;</span> <span class="n">21</span><span class="pn">;</span> <span class="n">7</span><span class="pn">;</span> <span class="n">1</span><span class="pn">|]</span>
       <span class="pn">[|</span><span class="n">1</span><span class="pn">;</span> <span class="n">8</span><span class="pn">;</span> <span class="n">28</span><span class="pn">;</span> <span class="n">56</span><span class="pn">;</span> <span class="n">70</span><span class="pn">;</span> <span class="n">56</span><span class="pn">;</span> <span class="n">28</span><span class="pn">;</span> <span class="n">8</span><span class="pn">;</span> <span class="n">1</span><span class="pn">|]</span>
    <span class="pn">|]</span>
</code></pre>
<h4><a name="Discriminated-unions" class="anchor" href="#Discriminated-unions">Discriminated unions</a></h4>
<p>DUs that split across multiple lines follow a similar rule:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs8', 20)" onmouseover="showTip(event, 'fs8', 20)" class="id">tree1</span> <span class="o">=</span>
    <span class="id">BinaryNode</span>
        <span class="pn">(</span><span class="id">BinaryNode</span><span class="pn">(</span><span class="id">BinaryValue</span> <span class="n">1</span><span class="pn">,</span> <span class="id">BinaryValue</span> <span class="n">2</span><span class="pn">)</span><span class="pn">,</span>
         <span class="id">BinaryNode</span><span class="pn">(</span><span class="id">BinaryValue</span> <span class="n">3</span><span class="pn">,</span> <span class="id">BinaryValue</span> <span class="n">4</span><span class="pn">)</span><span class="pn">)</span>
</code></pre>
<p>However, the following way is also acceptable:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs8', 21)" onmouseover="showTip(event, 'fs8', 21)" class="id">tree1</span> <span class="o">=</span>
    <span class="id">BinaryNode</span><span class="pn">(</span>
        <span class="id">BinaryNode</span><span class="pn">(</span><span class="id">BinaryValue</span> <span class="n">1</span><span class="pn">,</span> <span class="id">BinaryValue</span> <span class="n">2</span><span class="pn">)</span><span class="pn">,</span>
        <span class="id">BinaryNode</span><span class="pn">(</span><span class="id">BinaryValue</span> <span class="n">3</span><span class="pn">,</span> <span class="id">BinaryValue</span> <span class="n">4</span><span class="pn">)</span>
    <span class="pn">)</span>
</code></pre>
<h3><a name="Conditional-expressions" class="anchor" href="#Conditional-expressions">Conditional expressions</a></h3>
<h4><a name="Multiple-branches" class="anchor" href="#Multiple-branches">Multiple branches</a></h4>
<p>Multiple conditionals open each line counting from the second one by the keyword <code>else</code> or <code>elif</code>:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">if</span> <span class="id">cond1</span> <span class="k">then</span> <span class="id">e1</span>
<span class="k">elif</span> <span class="id">cond2</span> <span class="k">then</span> <span class="id">e2</span>
<span class="k">elif</span> <span class="id">cond3</span> <span class="k">then</span> <span class="id">e3</span>
<span class="k">else</span> <span class="id">e4</span>
</code></pre>
<h4><a name="Single-branches" class="anchor" href="#Single-branches">Single branches</a></h4>
<p>Indentation of conditionals depends on the sizes of the expressions which make them up.
If <code>cond</code>, <code>e1</code> and <code>e2</code> are small, simply write them on one line:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">if</span> <span class="id">cond</span> <span class="k">then</span> <span class="id">e1</span> <span class="k">else</span> <span class="id">e2</span>
</code></pre>
<p>If <code>e1</code> and <code>cond</code> are small, but <code>e2</code> is large:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">if</span> <span class="id">cond</span> <span class="k">then</span> <span class="id">e1</span>
<span class="k">else</span>
    <span class="id">e2</span>
</code></pre>
<p>If <code>e1</code> and <code>cond</code> are large and <code>e2</code> is small:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">if</span> <span class="id">cond</span> <span class="k">then</span>
    <span class="id">e1</span>
<span class="k">else</span> <span class="id">e2</span>
</code></pre>
<p>If all the expressions are large:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">if</span> <span class="id">cond</span> <span class="k">then</span>
    <span class="id">e1</span>
<span class="k">else</span>
    <span class="id">e2</span>
</code></pre>
<h3><a name="Pattern-matching-constructs" class="anchor" href="#Pattern-matching-constructs">Pattern matching constructs</a></h3>
<p>Rules of a <code>with</code> in a <code>try/with</code> can be <em>optionally</em> 4-space indented e.g.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">try</span>
    <span class="k">if</span> <span onmouseout="hideTip(event, 'fs9', 22)" onmouseover="showTip(event, 'fs9', 22)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs10', 23)" onmouseover="showTip(event, 'fs10', 23)" class="vt">DateTime</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs11', 24)" onmouseover="showTip(event, 'fs11', 24)" class="id">Now</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 25)" onmouseover="showTip(event, 'fs12', 25)" class="id">Second</span> <span class="o">%</span> <span class="n">3</span> <span class="o">=</span> <span class="n">0</span> <span class="k">then</span>
        <span onmouseout="hideTip(event, 'fs13', 26)" onmouseover="showTip(event, 'fs13', 26)" class="k">raise</span> <span class="pn">(</span><span class="k">new</span> <span onmouseout="hideTip(event, 'fs9', 27)" onmouseover="showTip(event, 'fs9', 27)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 28)" onmouseover="showTip(event, 'fs14', 28)" class="id">Exception</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
    <span class="k">else</span>
        <span onmouseout="hideTip(event, 'fs13', 29)" onmouseover="showTip(event, 'fs13', 29)" class="k">raise</span> <span class="pn">(</span><span class="k">new</span> <span onmouseout="hideTip(event, 'fs9', 30)" onmouseover="showTip(event, 'fs9', 30)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs15', 31)" onmouseover="showTip(event, 'fs15', 31)" class="id">ApplicationException</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
<span class="k">with</span>
<span class="pn">|</span> <span class="o">:?</span> <span onmouseout="hideTip(event, 'fs9', 32)" onmouseover="showTip(event, 'fs9', 32)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs15', 33)" onmouseover="showTip(event, 'fs15', 33)" class="id">ApplicationException</span> <span class="k">-&gt;</span>
    <span onmouseout="hideTip(event, 'fs16', 34)" onmouseover="showTip(event, 'fs16', 34)" class="fn">printfn</span> <span class="s">&quot;A second that was not a multiple of 3&quot;</span>
<span class="pn">|</span> <span class="id">_</span> <span class="k">-&gt;</span>
    <span onmouseout="hideTip(event, 'fs16', 35)" onmouseover="showTip(event, 'fs16', 35)" class="fn">printfn</span> <span class="s">&quot;A second that was a multiple of 3&quot;</span>
</code></pre>
<p>but this is also OK:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">try</span>
    <span class="k">if</span> <span onmouseout="hideTip(event, 'fs9', 36)" onmouseover="showTip(event, 'fs9', 36)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs10', 37)" onmouseover="showTip(event, 'fs10', 37)" class="vt">DateTime</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs11', 38)" onmouseover="showTip(event, 'fs11', 38)" class="id">Now</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 39)" onmouseover="showTip(event, 'fs12', 39)" class="id">Second</span> <span class="o">%</span> <span class="n">3</span> <span class="o">=</span> <span class="n">0</span> <span class="k">then</span>
        <span onmouseout="hideTip(event, 'fs13', 40)" onmouseover="showTip(event, 'fs13', 40)" class="k">raise</span> <span class="pn">(</span><span class="k">new</span> <span onmouseout="hideTip(event, 'fs9', 41)" onmouseover="showTip(event, 'fs9', 41)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 42)" onmouseover="showTip(event, 'fs14', 42)" class="id">Exception</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
    <span class="k">else</span>
        <span onmouseout="hideTip(event, 'fs13', 43)" onmouseover="showTip(event, 'fs13', 43)" class="k">raise</span> <span class="pn">(</span><span class="k">new</span> <span onmouseout="hideTip(event, 'fs9', 44)" onmouseover="showTip(event, 'fs9', 44)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs15', 45)" onmouseover="showTip(event, 'fs15', 45)" class="id">ApplicationException</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
<span class="k">with</span>
    <span class="pn">|</span> <span class="o">:?</span> <span onmouseout="hideTip(event, 'fs9', 46)" onmouseover="showTip(event, 'fs9', 46)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs15', 47)" onmouseover="showTip(event, 'fs15', 47)" class="id">ApplicationException</span> <span class="k">-&gt;</span>
        <span onmouseout="hideTip(event, 'fs16', 48)" onmouseover="showTip(event, 'fs16', 48)" class="fn">printfn</span> <span class="s">&quot;A second that was not a multiple of 3&quot;</span>
    <span class="pn">|</span> <span class="id">_</span> <span class="k">-&gt;</span>
        <span onmouseout="hideTip(event, 'fs16', 49)" onmouseover="showTip(event, 'fs16', 49)" class="fn">printfn</span> <span class="s">&quot;A second that was a multiple of 3&quot;</span>
</code></pre>
<p>Use a <code>|</code> for each clause of a match (strictly speaking it is optional for the first), except when the match is all on one line.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// OK</span>
<span class="k">match</span> <span class="id">l</span> <span class="k">with</span>
<span class="pn">|</span> <span class="pn">{</span> <span class="id">him</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 50)" onmouseover="showTip(event, 'fs3', 50)" class="id">x</span><span class="pn">;</span> <span class="id">her</span> <span class="o">=</span> <span class="s">&quot;Posh&quot;</span> <span class="pn">}</span> <span class="uc">::</span> <span onmouseout="hideTip(event, 'fs17', 51)" onmouseover="showTip(event, 'fs17', 51)" class="fn">tail</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs3', 52)" onmouseover="showTip(event, 'fs3', 52)" class="id">x</span>
<span class="pn">|</span> <span class="id">_</span> <span class="uc">::</span> <span onmouseout="hideTip(event, 'fs17', 53)" onmouseover="showTip(event, 'fs17', 53)" class="fn">tail</span> <span class="k">-&gt;</span> <span class="id">findDavid</span> <span onmouseout="hideTip(event, 'fs17', 54)" onmouseover="showTip(event, 'fs17', 54)" class="id">tail</span>
<span class="pn">|</span> <span class="pn">[</span><span class="pn">]</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs18', 55)" onmouseover="showTip(event, 'fs18', 55)" class="fn">failwith</span> <span class="s">&quot;Couldn&#39;t find David&quot;</span>

<span class="c">// Not OK</span>
<span class="k">match</span> <span class="id">l</span> <span class="k">with</span>
    <span class="pn">|</span> <span class="pn">{</span> <span class="id">him</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 56)" onmouseover="showTip(event, 'fs3', 56)" class="id">x</span><span class="pn">;</span> <span class="id">her</span> <span class="o">=</span> <span class="s">&quot;Posh&quot;</span> <span class="pn">}</span> <span class="uc">::</span> <span onmouseout="hideTip(event, 'fs17', 57)" onmouseover="showTip(event, 'fs17', 57)" class="fn">tail</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs3', 58)" onmouseover="showTip(event, 'fs3', 58)" class="id">x</span>
    <span class="pn">|</span> <span class="id">_</span> <span class="uc">::</span> <span onmouseout="hideTip(event, 'fs17', 59)" onmouseover="showTip(event, 'fs17', 59)" class="fn">tail</span> <span class="k">-&gt;</span> <span class="id">findDavid</span> <span onmouseout="hideTip(event, 'fs17', 60)" onmouseover="showTip(event, 'fs17', 60)" class="id">tail</span>
    <span class="pn">|</span> <span class="pn">[</span><span class="pn">]</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs18', 61)" onmouseover="showTip(event, 'fs18', 61)" class="fn">failwith</span> <span class="s">&quot;Couldn&#39;t find David&quot;</span>

<span class="c">// OK</span>
<span class="k">match</span> <span class="id">l</span> <span class="k">with</span> <span class="pn">[</span><span class="pn">]</span> <span class="k">-&gt;</span> <span class="k">false</span> <span class="pn">|</span> <span class="id">_</span> <span class="uc">::</span> <span class="id">_</span> <span class="k">-&gt;</span> <span class="k">true</span>
</code></pre>
<p>If the expression on the right of the pattern matching arrow is too large, cut the line after the arrow.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">match</span> <span class="id">lam</span> <span class="k">with</span>
<span class="pn">|</span> <span class="id">Abs</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 62)" onmouseover="showTip(event, 'fs19', 62)" class="fn">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs20', 63)" onmouseover="showTip(event, 'fs20', 63)" class="fn">body</span><span class="pn">)</span> <span class="k">-&gt;</span>
   <span class="n">1</span> <span class="o">+</span> <span class="id">sizeLambda</span> <span onmouseout="hideTip(event, 'fs20', 64)" onmouseover="showTip(event, 'fs20', 64)" class="id">body</span>
<span class="pn">|</span> <span class="id">App</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs21', 65)" onmouseover="showTip(event, 'fs21', 65)" class="fn">lam1</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs22', 66)" onmouseover="showTip(event, 'fs22', 66)" class="fn">lam2</span><span class="pn">)</span> <span class="k">-&gt;</span>
   <span class="id">sizeLambda</span> <span onmouseout="hideTip(event, 'fs21', 67)" onmouseover="showTip(event, 'fs21', 67)" class="id">lam1</span> <span class="o">+</span> <span class="id">sizeLambda</span> <span onmouseout="hideTip(event, 'fs22', 68)" onmouseover="showTip(event, 'fs22', 68)" class="id">lam2</span>
<span class="pn">|</span> <span class="id">Var</span> <span onmouseout="hideTip(event, 'fs23', 69)" onmouseover="showTip(event, 'fs23', 69)" class="fn">v</span> <span class="k">-&gt;</span> <span class="n">1</span>
</code></pre>
<p>Some programmers apply this rule systematically to any clause of any pattern matching.
This does not add any good to readability hence <strong>is not recommended</strong>.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Not OK</span>
<span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs24', 70)" onmouseover="showTip(event, 'fs24', 70)" class="fn">fib</span> <span class="o">=</span> <span class="k">function</span>
    <span class="pn">|</span> <span class="n">0</span> <span class="k">-&gt;</span>
        <span class="n">1</span>
    <span class="pn">|</span> <span class="n">1</span> <span class="k">-&gt;</span>
        <span class="n">1</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs25', 71)" onmouseover="showTip(event, 'fs25', 71)" class="fn">n</span> <span class="k">-&gt;</span>
        <span onmouseout="hideTip(event, 'fs24', 72)" onmouseover="showTip(event, 'fs24', 72)" class="fn">fib</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs25', 73)" onmouseover="showTip(event, 'fs25', 73)" class="fn">n</span> <span class="o">-</span> <span class="n">1</span><span class="pn">)</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs24', 74)" onmouseover="showTip(event, 'fs24', 74)" class="fn">fib</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs25', 75)" onmouseover="showTip(event, 'fs25', 75)" class="fn">n</span> <span class="o">-</span> <span class="n">2</span><span class="pn">)</span>
</code></pre>
<p>Pattern matching of anonymous functions, starting by <code>function</code>, are indented with respect to the <code>function</code> keyword:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs26', 76)" onmouseover="showTip(event, 'fs26', 76)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 77)" onmouseover="showTip(event, 'fs27', 77)" class="id">map</span> <span class="pn">(</span><span class="k">function</span>
          <span class="pn">|</span> <span class="id">Abs</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 78)" onmouseover="showTip(event, 'fs19', 78)" class="fn">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs20', 79)" onmouseover="showTip(event, 'fs20', 79)" class="fn">body</span><span class="pn">)</span> <span class="k">-&gt;</span> <span class="n">1</span> <span class="o">+</span> <span class="id">sizeLambda</span> <span class="n">0</span> <span onmouseout="hideTip(event, 'fs20', 80)" onmouseover="showTip(event, 'fs20', 80)" class="id">body</span>
          <span class="pn">|</span> <span class="id">App</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs21', 81)" onmouseover="showTip(event, 'fs21', 81)" class="fn">lam1</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs22', 82)" onmouseover="showTip(event, 'fs22', 82)" class="fn">lam2</span><span class="pn">)</span> <span class="k">-&gt;</span> <span class="id">sizeLambda</span> <span class="pn">(</span><span class="id">sizeLambda</span> <span class="n">0</span> <span onmouseout="hideTip(event, 'fs21', 83)" onmouseover="showTip(event, 'fs21', 83)" class="id">lam1</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs22', 84)" onmouseover="showTip(event, 'fs22', 84)" class="id">lam2</span>
          <span class="pn">|</span> <span class="id">Var</span> <span onmouseout="hideTip(event, 'fs23', 85)" onmouseover="showTip(event, 'fs23', 85)" class="fn">v</span> <span class="k">-&gt;</span> <span class="n">1</span><span class="pn">)</span> <span class="id">lambdaList</span>
</code></pre>
<p>Pattern matching in functions defined by <code>let</code> or <code>let rec</code> are indented 4 spaces after starting of <code>let</code> although <code>function</code> keyword may be used:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs28', 86)" onmouseover="showTip(event, 'fs28', 86)" class="fn">sizeLambda</span> <span onmouseout="hideTip(event, 'fs29', 87)" onmouseover="showTip(event, 'fs29', 87)" class="fn">acc</span> <span class="o">=</span> <span class="k">function</span>
    <span class="pn">|</span> <span class="id">Abs</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 88)" onmouseover="showTip(event, 'fs19', 88)" class="fn">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs30', 89)" onmouseover="showTip(event, 'fs30', 89)" class="fn">body</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs28', 90)" onmouseover="showTip(event, 'fs28', 90)" class="fn">sizeLambda</span> <span class="pn">(</span><span class="id">succ</span> <span onmouseout="hideTip(event, 'fs29', 91)" onmouseover="showTip(event, 'fs29', 91)" class="id">acc</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs30', 92)" onmouseover="showTip(event, 'fs30', 92)" class="fn">body</span>
    <span class="pn">|</span> <span class="id">App</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs31', 93)" onmouseover="showTip(event, 'fs31', 93)" class="fn">lam1</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs32', 94)" onmouseover="showTip(event, 'fs32', 94)" class="fn">lam2</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs28', 95)" onmouseover="showTip(event, 'fs28', 95)" class="fn">sizeLambda</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs28', 96)" onmouseover="showTip(event, 'fs28', 96)" class="fn">sizeLambda</span> <span onmouseout="hideTip(event, 'fs29', 97)" onmouseover="showTip(event, 'fs29', 97)" class="fn">acc</span> <span onmouseout="hideTip(event, 'fs31', 98)" onmouseover="showTip(event, 'fs31', 98)" class="fn">lam1</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs32', 99)" onmouseover="showTip(event, 'fs32', 99)" class="fn">lam2</span>
    <span class="pn">|</span> <span class="id">Var</span> <span onmouseout="hideTip(event, 'fs23', 100)" onmouseover="showTip(event, 'fs23', 100)" class="fn">v</span> <span class="k">-&gt;</span> <span class="id">succ</span> <span onmouseout="hideTip(event, 'fs29', 101)" onmouseover="showTip(event, 'fs29', 101)" class="id">acc</span>
</code></pre>
<p><strong>Careful alignment of the arrows</strong> of a pattern matching is considered <strong>bad practice</strong>, as exemplify in the following fragment:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Not OK</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs33', 102)" onmouseover="showTip(event, 'fs33', 102)" class="fn">f</span> <span class="o">=</span> <span class="k">function</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs34', 103)" onmouseover="showTip(event, 'fs34', 103)" class="fn">C1</span>          <span class="k">-&gt;</span> <span class="n">1</span>
    <span class="pn">|</span> <span class="id">LongName</span> <span class="id">_</span>  <span class="k">-&gt;</span> <span class="n">2</span>
    <span class="pn">|</span> <span class="id">_</span>           <span class="k">-&gt;</span> <span class="n">3</span>
</code></pre>
<p>The justification is that it is harder to maintain the program.
Adding a new case may screw up indentation and we often give up alignment at that time.</p>
<h3><a name="Function-applications" class="anchor" href="#Function-applications">Function applications</a></h3>
<p>Arguments are always indented from functions:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// OK</span>
<span onmouseout="hideTip(event, 'fs35', 104)" onmouseover="showTip(event, 'fs35', 104)" class="m">Printf</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs36', 105)" onmouseover="showTip(event, 'fs36', 105)" class="id">sprintf</span> <span class="s">&quot;\t</span><span class="pf">%s</span><span class="s"> - </span><span class="pf">%i</span><span class="s">\n\r&quot;</span>
     <span onmouseout="hideTip(event, 'fs3', 106)" onmouseover="showTip(event, 'fs3', 106)" class="id">x</span><span class="pn">.</span><span class="id">IngredientName</span> <span onmouseout="hideTip(event, 'fs3', 107)" onmouseover="showTip(event, 'fs3', 107)" class="id">x</span><span class="pn">.</span><span class="id">Quantity</span>

<span class="c">// OK</span>
<span onmouseout="hideTip(event, 'fs35', 108)" onmouseover="showTip(event, 'fs35', 108)" class="m">Printf</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs36', 109)" onmouseover="showTip(event, 'fs36', 109)" class="id">sprintf</span>
     <span class="s">&quot;\t</span><span class="pf">%s</span><span class="s"> - </span><span class="pf">%i</span><span class="s">\n\r&quot;</span>
     <span onmouseout="hideTip(event, 'fs3', 110)" onmouseover="showTip(event, 'fs3', 110)" class="id">x</span><span class="pn">.</span><span class="id">IngredientName</span> <span onmouseout="hideTip(event, 'fs3', 111)" onmouseover="showTip(event, 'fs3', 111)" class="id">x</span><span class="pn">.</span><span class="id">Quantity</span>

<span class="c">// OK</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs37', 112)" onmouseover="showTip(event, 'fs37', 112)" class="fn">printVolumes</span> <span onmouseout="hideTip(event, 'fs38', 113)" onmouseover="showTip(event, 'fs38', 113)" class="fn">x</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs35', 114)" onmouseover="showTip(event, 'fs35', 114)" class="m">Printf</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 115)" onmouseover="showTip(event, 'fs39', 115)" class="id">printf</span> <span class="s">&quot;Volume in liters = </span><span class="pf">%f</span><span class="s">, in us pints = </span><span class="pf">%f</span><span class="s">, in imperial = </span><span class="pf">%f</span><span class="s">&quot;</span>
        <span class="pn">(</span><span class="id">convertVolumeToLiter</span> <span onmouseout="hideTip(event, 'fs38', 116)" onmouseover="showTip(event, 'fs38', 116)" class="id">x</span><span class="pn">)</span>
        <span class="pn">(</span><span class="id">convertVolumeUSPint</span> <span onmouseout="hideTip(event, 'fs38', 117)" onmouseover="showTip(event, 'fs38', 117)" class="id">x</span><span class="pn">)</span>
        <span class="pn">(</span><span class="id">convertVolumeImperialPint</span> <span onmouseout="hideTip(event, 'fs38', 118)" onmouseover="showTip(event, 'fs38', 118)" class="id">x</span><span class="pn">)</span>

<span class="c">// Not OK</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs40', 119)" onmouseover="showTip(event, 'fs40', 119)" class="fn">printVolumes</span> <span onmouseout="hideTip(event, 'fs38', 120)" onmouseover="showTip(event, 'fs38', 120)" class="fn">x</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs35', 121)" onmouseover="showTip(event, 'fs35', 121)" class="m">Printf</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 122)" onmouseover="showTip(event, 'fs39', 122)" class="id">printf</span> <span class="s">&quot;Volume in liters = </span><span class="pf">%f</span><span class="s">, in us pints = </span><span class="pf">%f</span><span class="s">, in imperial = </span><span class="pf">%f</span><span class="s">&quot;</span>
    <span class="pn">(</span><span class="id">convertVolumeToLiter</span> <span onmouseout="hideTip(event, 'fs38', 123)" onmouseover="showTip(event, 'fs38', 123)" class="id">x</span><span class="pn">)</span>
    <span class="pn">(</span><span class="id">convertVolumeUSPint</span> <span onmouseout="hideTip(event, 'fs38', 124)" onmouseover="showTip(event, 'fs38', 124)" class="id">x</span><span class="pn">)</span>
    <span class="pn">(</span><span class="id">convertVolumeImperialPint</span> <span onmouseout="hideTip(event, 'fs38', 125)" onmouseover="showTip(event, 'fs38', 125)" class="id">x</span><span class="pn">)</span>

<span class="c">// Not OK</span>
<span onmouseout="hideTip(event, 'fs35', 126)" onmouseover="showTip(event, 'fs35', 126)" class="m">Printf</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs36', 127)" onmouseover="showTip(event, 'fs36', 127)" class="id">sprintf</span> <span class="s">&quot;\t</span><span class="pf">%s</span><span class="s"> - </span><span class="pf">%i</span><span class="s">\n\r&quot;</span>
<span onmouseout="hideTip(event, 'fs3', 128)" onmouseover="showTip(event, 'fs3', 128)" class="id">x</span><span class="pn">.</span><span class="id">IngredientName</span> <span onmouseout="hideTip(event, 'fs3', 129)" onmouseover="showTip(event, 'fs3', 129)" class="id">x</span><span class="pn">.</span><span class="id">Quantity</span>
</code></pre>
<p>Anonymous function arguments can be either on next line or with a dangling <code>fun</code> on the argument line:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// OK</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs41', 130)" onmouseover="showTip(event, 'fs41', 130)" class="fn">printListWithOffset</span> <span onmouseout="hideTip(event, 'fs42', 131)" onmouseover="showTip(event, 'fs42', 131)" class="fn">a</span> <span onmouseout="hideTip(event, 'fs43', 132)" onmouseover="showTip(event, 'fs43', 132)" class="fn">list1</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs26', 133)" onmouseover="showTip(event, 'fs26', 133)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs44', 134)" onmouseover="showTip(event, 'fs44', 134)" class="id">iter</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs45', 135)" onmouseover="showTip(event, 'fs45', 135)" class="fn">elem</span> <span class="k">-&gt;</span>
        <span onmouseout="hideTip(event, 'fs16', 136)" onmouseover="showTip(event, 'fs16', 136)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%d</span><span class="s">&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs42', 137)" onmouseover="showTip(event, 'fs42', 137)" class="fn">a</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs45', 138)" onmouseover="showTip(event, 'fs45', 138)" class="fn">elem</span><span class="pn">)</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs43', 139)" onmouseover="showTip(event, 'fs43', 139)" class="fn">list1</span>

<span class="c">// Tolerable</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs41', 140)" onmouseover="showTip(event, 'fs41', 140)" class="fn">printListWithOffset</span> <span onmouseout="hideTip(event, 'fs42', 141)" onmouseover="showTip(event, 'fs42', 141)" class="fn">a</span> <span onmouseout="hideTip(event, 'fs43', 142)" onmouseover="showTip(event, 'fs43', 142)" class="fn">list1</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs26', 143)" onmouseover="showTip(event, 'fs26', 143)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs44', 144)" onmouseover="showTip(event, 'fs44', 144)" class="id">iter</span> <span class="pn">(</span>
        <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs45', 145)" onmouseover="showTip(event, 'fs45', 145)" class="fn">elem</span> <span class="k">-&gt;</span>
            <span onmouseout="hideTip(event, 'fs16', 146)" onmouseover="showTip(event, 'fs16', 146)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%d</span><span class="s">&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs42', 147)" onmouseover="showTip(event, 'fs42', 147)" class="fn">a</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs45', 148)" onmouseover="showTip(event, 'fs45', 148)" class="fn">elem</span><span class="pn">)</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs43', 149)" onmouseover="showTip(event, 'fs43', 149)" class="fn">list1</span>
</code></pre>
<h3><a name="Infix-operators" class="anchor" href="#Infix-operators">Infix operators</a></h3>
<p>Be careful to <em>keep operator symbols well separated by spaces</em>; not only will your formulas be more readable, but you will avoid confusion with multi-character operators.
Obvious exceptions to this rule are the <code>!</code> and <code>.</code> symbols.
They are not separated from their arguments.
Moreover, infix expressions are OK to lineup on same column:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="id">acc</span> <span class="o">+</span>
<span class="pn">(</span><span onmouseout="hideTip(event, 'fs35', 150)" onmouseover="showTip(event, 'fs35', 150)" class="m">Printf</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs36', 151)" onmouseover="showTip(event, 'fs36', 151)" class="id">sprintf</span> <span class="s">&quot;\t</span><span class="pf">%s</span><span class="s"> - </span><span class="pf">%i</span><span class="s">\n\r&quot;</span>
     <span onmouseout="hideTip(event, 'fs3', 152)" onmouseover="showTip(event, 'fs3', 152)" class="id">x</span><span class="pn">.</span><span class="id">IngredientName</span> <span onmouseout="hideTip(event, 'fs3', 153)" onmouseover="showTip(event, 'fs3', 153)" class="id">x</span><span class="pn">.</span><span class="id">Quantity</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs46', 154)" onmouseover="showTip(event, 'fs46', 154)" class="fn">function1</span> <span onmouseout="hideTip(event, 'fs47', 155)" onmouseover="showTip(event, 'fs47', 155)" class="fn">arg1</span> <span onmouseout="hideTip(event, 'fs48', 156)" onmouseover="showTip(event, 'fs48', 156)" class="fn">arg2</span> <span onmouseout="hideTip(event, 'fs49', 157)" onmouseover="showTip(event, 'fs49', 157)" class="fn">arg3</span> <span onmouseout="hideTip(event, 'fs50', 158)" onmouseover="showTip(event, 'fs50', 158)" class="fn">arg4</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs47', 159)" onmouseover="showTip(event, 'fs47', 159)" class="fn">arg1</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs48', 160)" onmouseover="showTip(event, 'fs48', 160)" class="fn">arg2</span>
  <span class="o">+</span> <span onmouseout="hideTip(event, 'fs49', 161)" onmouseover="showTip(event, 'fs49', 161)" class="fn">arg3</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs50', 162)" onmouseover="showTip(event, 'fs50', 162)" class="fn">arg4</span>
</code></pre>
<h3><a name="Pipeline-operators" class="anchor" href="#Pipeline-operators">Pipeline operators</a></h3>
<p>Pipeline <code>|&gt;</code> should go at the start of a line immediately under the expression being operated on:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// OK</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs51', 163)" onmouseover="showTip(event, 'fs51', 163)" class="id">methods2</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs9', 164)" onmouseover="showTip(event, 'fs9', 164)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs52', 165)" onmouseover="showTip(event, 'fs52', 165)" class="rt">AppDomain</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 166)" onmouseover="showTip(event, 'fs53', 166)" class="id">CurrentDomain</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs54', 167)" onmouseover="showTip(event, 'fs54', 167)" class="id">GetAssemblies</span><span class="pn">(</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs26', 168)" onmouseover="showTip(event, 'fs26', 168)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs55', 169)" onmouseover="showTip(event, 'fs55', 169)" class="id">ofArray</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs26', 170)" onmouseover="showTip(event, 'fs26', 170)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 171)" onmouseover="showTip(event, 'fs27', 171)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs56', 172)" onmouseover="showTip(event, 'fs56', 172)" class="fn">assm</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs56', 173)" onmouseover="showTip(event, 'fs56', 173)" class="fn">assm</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs57', 174)" onmouseover="showTip(event, 'fs57', 174)" class="id">GetTypes</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs58', 175)" onmouseover="showTip(event, 'fs58', 175)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 176)" onmouseover="showTip(event, 'fs59', 176)" class="id">concat</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs26', 177)" onmouseover="showTip(event, 'fs26', 177)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs55', 178)" onmouseover="showTip(event, 'fs55', 178)" class="id">ofArray</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs26', 179)" onmouseover="showTip(event, 'fs26', 179)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 180)" onmouseover="showTip(event, 'fs27', 180)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs60', 181)" onmouseover="showTip(event, 'fs60', 181)" class="fn">t</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs60', 182)" onmouseover="showTip(event, 'fs60', 182)" class="fn">t</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs61', 183)" onmouseover="showTip(event, 'fs61', 183)" class="id">GetMethods</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs58', 184)" onmouseover="showTip(event, 'fs58', 184)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 185)" onmouseover="showTip(event, 'fs59', 185)" class="id">concat</span>

<span class="c">// OK</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs51', 186)" onmouseover="showTip(event, 'fs51', 186)" class="id">methods2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs9', 187)" onmouseover="showTip(event, 'fs9', 187)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs52', 188)" onmouseover="showTip(event, 'fs52', 188)" class="rt">AppDomain</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 189)" onmouseover="showTip(event, 'fs53', 189)" class="id">CurrentDomain</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs54', 190)" onmouseover="showTip(event, 'fs54', 190)" class="id">GetAssemblies</span><span class="pn">(</span><span class="pn">)</span>
               <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs26', 191)" onmouseover="showTip(event, 'fs26', 191)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs55', 192)" onmouseover="showTip(event, 'fs55', 192)" class="id">ofArray</span>
               <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs26', 193)" onmouseover="showTip(event, 'fs26', 193)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 194)" onmouseover="showTip(event, 'fs27', 194)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs56', 195)" onmouseover="showTip(event, 'fs56', 195)" class="fn">assm</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs56', 196)" onmouseover="showTip(event, 'fs56', 196)" class="fn">assm</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs57', 197)" onmouseover="showTip(event, 'fs57', 197)" class="id">GetTypes</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
               <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs58', 198)" onmouseover="showTip(event, 'fs58', 198)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 199)" onmouseover="showTip(event, 'fs59', 199)" class="id">concat</span>
               <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs26', 200)" onmouseover="showTip(event, 'fs26', 200)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs55', 201)" onmouseover="showTip(event, 'fs55', 201)" class="id">ofArray</span>
               <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs26', 202)" onmouseover="showTip(event, 'fs26', 202)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 203)" onmouseover="showTip(event, 'fs27', 203)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs60', 204)" onmouseover="showTip(event, 'fs60', 204)" class="fn">t</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs60', 205)" onmouseover="showTip(event, 'fs60', 205)" class="fn">t</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs61', 206)" onmouseover="showTip(event, 'fs61', 206)" class="id">GetMethods</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
               <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs58', 207)" onmouseover="showTip(event, 'fs58', 207)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 208)" onmouseover="showTip(event, 'fs59', 208)" class="id">concat</span>

<span class="c">// Not OK</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs51', 209)" onmouseover="showTip(event, 'fs51', 209)" class="id">methods2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs9', 210)" onmouseover="showTip(event, 'fs9', 210)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs52', 211)" onmouseover="showTip(event, 'fs52', 211)" class="rt">AppDomain</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 212)" onmouseover="showTip(event, 'fs53', 212)" class="id">CurrentDomain</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs54', 213)" onmouseover="showTip(event, 'fs54', 213)" class="id">GetAssemblies</span><span class="pn">(</span><span class="pn">)</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs26', 214)" onmouseover="showTip(event, 'fs26', 214)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs55', 215)" onmouseover="showTip(event, 'fs55', 215)" class="id">ofArray</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs26', 216)" onmouseover="showTip(event, 'fs26', 216)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 217)" onmouseover="showTip(event, 'fs27', 217)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs56', 218)" onmouseover="showTip(event, 'fs56', 218)" class="fn">assm</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs56', 219)" onmouseover="showTip(event, 'fs56', 219)" class="fn">assm</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs57', 220)" onmouseover="showTip(event, 'fs57', 220)" class="id">GetTypes</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs58', 221)" onmouseover="showTip(event, 'fs58', 221)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 222)" onmouseover="showTip(event, 'fs59', 222)" class="id">concat</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs26', 223)" onmouseover="showTip(event, 'fs26', 223)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs55', 224)" onmouseover="showTip(event, 'fs55', 224)" class="id">ofArray</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs26', 225)" onmouseover="showTip(event, 'fs26', 225)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 226)" onmouseover="showTip(event, 'fs27', 226)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs60', 227)" onmouseover="showTip(event, 'fs60', 227)" class="fn">t</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs60', 228)" onmouseover="showTip(event, 'fs60', 228)" class="fn">t</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs61', 229)" onmouseover="showTip(event, 'fs61', 229)" class="id">GetMethods</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs58', 230)" onmouseover="showTip(event, 'fs58', 230)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 231)" onmouseover="showTip(event, 'fs59', 231)" class="id">concat</span>
</code></pre>
<h3><a name="Modules" class="anchor" href="#Modules">Modules</a></h3>
<p>Code in a local module must be indented relative to the module, but code in a top-level module does not have to be indented.
Namespace elements do not have to be indented.
The following code examples illustrate this.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// A is a top-level module.</span>
<span class="k">module</span> <span onmouseout="hideTip(event, 'fs62', 232)" onmouseover="showTip(event, 'fs62', 232)" class="m">A</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs63', 233)" onmouseover="showTip(event, 'fs63', 233)" class="fn">function1</span> <span onmouseout="hideTip(event, 'fs42', 234)" onmouseover="showTip(event, 'fs42', 234)" class="fn">a</span> <span onmouseout="hideTip(event, 'fs64', 235)" onmouseover="showTip(event, 'fs64', 235)" class="fn">b</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs42', 236)" onmouseover="showTip(event, 'fs42', 236)" class="fn">a</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs64', 237)" onmouseover="showTip(event, 'fs64', 237)" class="fn">b</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs64', 238)" onmouseover="showTip(event, 'fs64', 238)" class="fn">b</span>
</code></pre>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// A1 and A2 are local modules.</span>
<span class="k">module</span> <span class="m">A1</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs63', 239)" onmouseover="showTip(event, 'fs63', 239)" class="fn">function1</span> <span onmouseout="hideTip(event, 'fs42', 240)" onmouseover="showTip(event, 'fs42', 240)" class="fn">a</span> <span onmouseout="hideTip(event, 'fs64', 241)" onmouseover="showTip(event, 'fs64', 241)" class="fn">b</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs42', 242)" onmouseover="showTip(event, 'fs42', 242)" class="fn">a</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs42', 243)" onmouseover="showTip(event, 'fs42', 243)" class="fn">a</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs64', 244)" onmouseover="showTip(event, 'fs64', 244)" class="fn">b</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs64', 245)" onmouseover="showTip(event, 'fs64', 245)" class="fn">b</span>

<span class="k">module</span> <span class="m">A2</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs65', 246)" onmouseover="showTip(event, 'fs65', 246)" class="fn">function2</span> <span onmouseout="hideTip(event, 'fs42', 247)" onmouseover="showTip(event, 'fs42', 247)" class="fn">a</span> <span onmouseout="hideTip(event, 'fs64', 248)" onmouseover="showTip(event, 'fs64', 248)" class="fn">b</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs42', 249)" onmouseover="showTip(event, 'fs42', 249)" class="fn">a</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs42', 250)" onmouseover="showTip(event, 'fs42', 250)" class="fn">a</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs64', 251)" onmouseover="showTip(event, 'fs64', 251)" class="fn">b</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs64', 252)" onmouseover="showTip(event, 'fs64', 252)" class="fn">b</span>
</code></pre>
<h3><a name="Object-expressions-and-interfaces" class="anchor" href="#Object-expressions-and-interfaces">Object expressions and interfaces</a></h3>
<p>Object expressions and interfaces are aligned in the same way with <code>member</code> being indented after 4 spaces.
For example, this is recommended:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs66', 253)" onmouseover="showTip(event, 'fs66', 253)" class="id">comparer</span> <span class="o">=</span>
    <span class="pn">{</span> <span class="k">new</span> <span class="id">IComparer</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs67', 254)" onmouseover="showTip(event, 'fs67', 254)" class="id">string</span><span class="pn">&gt;</span> <span class="k">with</span>
          <span class="k">member</span> <span onmouseout="hideTip(event, 'fs3', 255)" onmouseover="showTip(event, 'fs3', 255)" class="id">x</span><span class="pn">.</span><span class="id">Compare</span><span class="pn">(</span><span class="id">s1</span><span class="pn">,</span> <span class="id">s2</span><span class="pn">)</span> <span class="o">=</span>
              <span class="k">let</span> <span class="id">rev</span> <span class="pn">(</span><span class="id">s</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs68', 256)" onmouseover="showTip(event, 'fs68', 256)" class="id">String</span><span class="pn">)</span> <span class="o">=</span>
                  <span class="k">new</span> <span onmouseout="hideTip(event, 'fs68', 257)" onmouseover="showTip(event, 'fs68', 257)" class="id">String</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs58', 258)" onmouseover="showTip(event, 'fs58', 258)" class="id">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs69', 259)" onmouseover="showTip(event, 'fs69', 259)" class="id">rev</span> <span class="pn">(</span><span class="id">s</span><span class="pn">.</span><span class="id">ToCharArray</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span><span class="pn">)</span>
              <span class="k">let</span> <span class="id">reversed</span> <span class="o">=</span> <span class="id">rev</span> <span class="id">s1</span> <span class="id">i</span>
              <span class="id">reversed</span><span class="pn">.</span><span class="id">CompareTo</span> <span class="pn">(</span><span class="id">rev</span> <span class="id">s2</span><span class="pn">)</span> <span class="pn">}</span>
</code></pre>
<p>but this is not advocated:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Not OK</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs66', 260)" onmouseover="showTip(event, 'fs66', 260)" class="id">comparer</span> <span class="o">=</span>
    <span class="pn">{</span> <span class="k">new</span> <span class="id">IComparer</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs67', 261)" onmouseover="showTip(event, 'fs67', 261)" class="id">string</span><span class="pn">&gt;</span> <span class="k">with</span>
      <span class="k">member</span> <span onmouseout="hideTip(event, 'fs3', 262)" onmouseover="showTip(event, 'fs3', 262)" class="id">x</span><span class="pn">.</span><span class="id">Compare</span><span class="pn">(</span><span class="id">s1</span><span class="pn">,</span> <span class="id">s2</span><span class="pn">)</span> <span class="o">=</span>
          <span class="k">let</span> <span class="id">rev</span> <span class="pn">(</span><span class="id">s</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs68', 263)" onmouseover="showTip(event, 'fs68', 263)" class="id">String</span><span class="pn">)</span> <span class="o">=</span>
              <span class="k">new</span> <span onmouseout="hideTip(event, 'fs68', 264)" onmouseover="showTip(event, 'fs68', 264)" class="id">String</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs58', 265)" onmouseover="showTip(event, 'fs58', 265)" class="id">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs69', 266)" onmouseover="showTip(event, 'fs69', 266)" class="id">rev</span> <span class="pn">(</span><span class="id">s</span><span class="pn">.</span><span class="id">ToCharArray</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span><span class="pn">)</span> <span class="k">in</span>
              <span class="k">let</span> <span class="id">reversed</span> <span class="o">=</span> <span class="id">rev</span> <span class="id">s1</span> <span class="k">in</span>
              <span class="id">reversed</span><span class="pn">.</span><span class="id">CompareTo</span> <span class="pn">(</span><span class="id">rev</span> <span class="id">s2</span><span class="pn">)</span> <span class="pn">}</span>
</code></pre>
<p>Bodies of modules, classes, interfaces, and structures delimited by <code>begin...end</code>, <code>{...}</code>, <code>class...end</code>, or <code>interface...end</code>.
This allows for a style in which the opening keyword of a type definition can be on the same line as the type name without forcing the whole body to be indented further than the opening keyword.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs70', 267)" onmouseover="showTip(event, 'fs70', 267)" class="if">IMyInterface</span> <span class="o">=</span> <span class="k">interface</span>
    <span class="k">abstract</span> <span class="fn">Function1</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs71', 268)" onmouseover="showTip(event, 'fs71', 268)" class="vt">int</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs71', 269)" onmouseover="showTip(event, 'fs71', 269)" class="vt">int</span>
<span class="k">end</span>
</code></pre>
<h3><a name="Whitespaces" class="anchor" href="#Whitespaces">Whitespaces</a></h3>
<p>Avoid extraneous whitespace in the following situations:</p>
<ul>
<li>
<p>Immediately inside parentheses and brackets.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// OK</span>
<span class="id">spam</span> <span class="pn">(</span><span class="id">ham</span><span class="pn">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">)</span>

<span class="c">// Not OK</span>
<span class="id">spam</span> <span class="pn">(</span> <span class="id">ham</span><span class="pn">.</span><span class="pn">[</span> <span class="n">1</span> <span class="pn">]</span> <span class="pn">)</span>
</code></pre>
</li>
<li>Immediately before a comma and semicolon.</li>
<li>
<p>Around the <code>=</code> sign when used to indicate a named argument.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// OK</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs72', 270)" onmouseover="showTip(event, 'fs72', 270)" class="fn">makeStreamReader</span> <span onmouseout="hideTip(event, 'fs73', 271)" onmouseover="showTip(event, 'fs73', 271)" class="fn">x</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs9', 272)" onmouseover="showTip(event, 'fs9', 272)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs74', 273)" onmouseover="showTip(event, 'fs74', 273)" class="id">IO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs75', 274)" onmouseover="showTip(event, 'fs75', 274)" class="id">StreamReader</span><span class="pn">(</span><span class="fn">path</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs73', 275)" onmouseover="showTip(event, 'fs73', 275)" class="fn">x</span><span class="pn">)</span>

<span class="c">// Not OK</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs72', 276)" onmouseover="showTip(event, 'fs72', 276)" class="fn">makeStreamReader</span> <span onmouseout="hideTip(event, 'fs73', 277)" onmouseover="showTip(event, 'fs73', 277)" class="fn">x</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs9', 278)" onmouseover="showTip(event, 'fs9', 278)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs74', 279)" onmouseover="showTip(event, 'fs74', 279)" class="id">IO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs75', 280)" onmouseover="showTip(event, 'fs75', 280)" class="id">StreamReader</span><span class="pn">(</span><span class="fn">path</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs73', 281)" onmouseover="showTip(event, 'fs73', 281)" class="fn">x</span><span class="pn">)</span>
</code></pre>
</li>
</ul>
<h3><a name="Blank-lines" class="anchor" href="#Blank-lines">Blank lines</a></h3>
<ul>
<li>Separate top-level function and class definitions with two blank lines.</li>
<li>Method definitions inside a class are separated by a single blank line.</li>
<li>Extra blank lines may be used (sparingly) to separate groups of related functions. Blank lines may be omitted between a bunch of related one-liners (e.g. a set of dummy implementations).</li>
<li>Use blank lines in functions, sparingly, to indicate logical sections.</li>
</ul>
<h4><a name="2020-Revision" class="anchor" href="#2020-Revision">2020 Revision</a></h4>
<p>Blank lines are introduces around any multiline code constructs:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs42', 282)" onmouseover="showTip(event, 'fs42', 282)" class="id">a</span> <span class="o">=</span> <span class="n">9</span>

<span class="k">if</span> <span class="id">someCondition</span> <span class="k">then</span>
    <span onmouseout="hideTip(event, 'fs16', 283)" onmouseover="showTip(event, 'fs16', 283)" class="fn">printfn</span> <span class="s">&quot;meh&quot;</span>
    <span class="pn">(</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs64', 284)" onmouseover="showTip(event, 'fs64', 284)" class="id">b</span> <span class="o">=</span> <span class="n">10</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs76', 285)" onmouseover="showTip(event, 'fs76', 285)" class="id">c</span> <span class="o">=</span> <span class="n">10</span>
</code></pre>
<p>The <code>SynExpr.IfThenElse</code> expression is multiline so a blank line between <code>let a</code> and <code>if someCondition</code> and between <code>if someCondition</code> and <code>let b</code> is fitting.
Single line statements are combined without any additional blank lines, see <code>let b</code> and <code>let c</code>.</p>
<h3><a name="Comments" class="anchor" href="#Comments">Comments</a></h3>
<p>Block comments generally apply to some (or all) code that follows them, and are indented to the same level as that code.
Each line of a block comment starts with a <code>(*</code> or <code>//</code> and a single space (unless it is indented text inside the comment).
Paragraphs inside a block comment are separated by a line containing a single <code>*</code> or <code>//</code>.</p>
<p>Use inline comments sparingly.
An inline comment is a comment on the same line as a statement.
Inline comments should be separated by at least two spaces from the statement.
They should start with a <code>//</code> and a single space.</p>
<h2><a name="Conclusions" class="anchor" href="#Conclusions">Conclusions</a></h2>
<p>This guideline is still far from complete.
Many syntactic constructs have not had any defined rule yet.
In those cases, please keep in mind <em>consistency of indentation</em> rule and extrapolate from rules of similar constructs.
Although I tried to keep a neutral position, there are mistakes and inconsistencies here and there.
Feedbacks and suggestions for improving the article are always welcome.</p>
<h2><a name="References" class="anchor" href="#References">References</a></h2>
<p>This document is structured upon <a href="https://web.archive.org/web/20070306131206/http://research.microsoft.com/fsharp/expert-fsharp-draft/FormattingConventions.doc">"F# Coding Guidelines"</a> (offline version).
General rules for indentation are referenced at <a href="http://msdn.microsoft.com/en-us/library/dd233191.aspx">"Code Formatting Guidelines (F#)"</a>.
A few conventions for syntactic constructs are adapted from <a href="http://caml.inria.fr/resources/doc/guides/guidelines.en.html">"Caml Programming Guidelines"</a>.
Other whitespace-significant rules are taken from <a href="http://www.python.org/dev/peps/pep-0008/">"PEP 8 -- Style Guide for Python Code"</a>.</p>
<fantomas-nav previous="Releases.html" next="History.html"></fantomas-nav>

        <div class="fsdocs-tip" id="fs1">type Volume =
  | Liter of float
  | USPint of float
  | ImperialPint of float</div>
<div class="fsdocs-tip" id="fs2">Multiple items<br />val float: value: &#39;T -&gt; float (requires member op_Explicit)<br /><br />--------------------<br />type float = System.Double<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; =
  float</div>
<div class="fsdocs-tip" id="fs3">val x: int</div>
<div class="fsdocs-tip" id="fs4">val y: int</div>
<div class="fsdocs-tip" id="fs5">val point: &#39;a</div>
<div class="fsdocs-tip" id="fs6">val rainbow: &#39;a</div>
<div class="fsdocs-tip" id="fs7">val pascalsTriangle: int array array</div>
<div class="fsdocs-tip" id="fs8">val tree1: obj</div>
<div class="fsdocs-tip" id="fs9">namespace System</div>
<div class="fsdocs-tip" id="fs10">Multiple items<br />[&lt;Struct&gt;]
type DateTime =
  new: date: DateOnly * time: TimeOnly -&gt; unit + 16 overloads
  member Add: value: TimeSpan -&gt; DateTime
  member AddDays: value: float -&gt; DateTime
  member AddHours: value: float -&gt; DateTime
  member AddMicroseconds: value: float -&gt; DateTime
  member AddMilliseconds: value: float -&gt; DateTime
  member AddMinutes: value: float -&gt; DateTime
  member AddMonths: months: int -&gt; DateTime
  member AddSeconds: value: float -&gt; DateTime
  member AddTicks: value: int64 -&gt; DateTime
  ...<br /><em>&lt;summary&gt;Represents an instant in time, typically expressed as a date and time of day.&lt;/summary&gt;</em><br /><br />--------------------<br />System.DateTime ()<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(ticks: int64) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(date: System.DateOnly, time: System.TimeOnly) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(ticks: int64, kind: System.DateTimeKind) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(date: System.DateOnly, time: System.TimeOnly, kind: System.DateTimeKind) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int, calendar: System.Globalization.Calendar) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, kind: System.DateTimeKind) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, calendar: System.Globalization.Calendar) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="fsdocs-tip" id="fs11">property System.DateTime.Now: System.DateTime with get<br /><em>&lt;summary&gt;Gets a &lt;see cref=&quot;T:System.DateTime&quot; /&gt; object that is set to the current date and time on this computer, expressed as the local time.&lt;/summary&gt;<br />&lt;returns&gt;An object whose value is the current local date and time.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs12">property System.DateTime.Second: int with get<br /><em>&lt;summary&gt;Gets the seconds component of the date represented by this instance.&lt;/summary&gt;<br />&lt;returns&gt;The seconds component, expressed as a value between 0 and 59.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs13">val raise: exn: System.Exception -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs14">Multiple items<br />type Exception =
  interface ISerializable
  new: unit -&gt; unit + 2 overloads
  member GetBaseException: unit -&gt; exn
  member GetObjectData: info: SerializationInfo * context: StreamingContext -&gt; unit
  member GetType: unit -&gt; Type
  member ToString: unit -&gt; string
  member Data: IDictionary
  member HResult: int
  member HelpLink: string
  member InnerException: exn
  ...<br /><em>&lt;summary&gt;Represents errors that occur during application execution.&lt;/summary&gt;</em><br /><br />--------------------<br />System.Exception() : System.Exception<br />System.Exception(message: string) : System.Exception<br />System.Exception(message: string, innerException: exn) : System.Exception</div>
<div class="fsdocs-tip" id="fs15">Multiple items<br />type ApplicationException =
  inherit exn
  new: unit -&gt; unit + 2 overloads<br /><em>&lt;summary&gt;Serves as the base class for application-defined exceptions.&lt;/summary&gt;</em><br /><br />--------------------<br />System.ApplicationException() : System.ApplicationException<br />System.ApplicationException(message: string) : System.ApplicationException<br />System.ApplicationException(message: string, innerException: exn) : System.ApplicationException</div>
<div class="fsdocs-tip" id="fs16">val printfn: format: Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs17">val tail: obj list</div>
<div class="fsdocs-tip" id="fs18">val failwith: message: string -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs19">val x: obj</div>
<div class="fsdocs-tip" id="fs20">val body: obj</div>
<div class="fsdocs-tip" id="fs21">val lam1: obj</div>
<div class="fsdocs-tip" id="fs22">val lam2: obj</div>
<div class="fsdocs-tip" id="fs23">val v: obj</div>
<div class="fsdocs-tip" id="fs24">val fib: _arg1: int -&gt; int</div>
<div class="fsdocs-tip" id="fs25">val n: int</div>
<div class="fsdocs-tip" id="fs26">Multiple items<br />module List

from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =
  | op_Nil
  | op_ColonColon of Head: &#39;T * Tail: &#39;T list
  interface IReadOnlyList&lt;&#39;T&gt;
  interface IReadOnlyCollection&lt;&#39;T&gt;
  interface IEnumerable
  interface IEnumerable&lt;&#39;T&gt;
  member GetReverseIndex: rank: int * offset: int -&gt; int
  member GetSlice: startIndex: int option * endIndex: int option -&gt; &#39;T list
  static member Cons: head: &#39;T * tail: &#39;T list -&gt; &#39;T list
  member Head: &#39;T
  member IsEmpty: bool
  member Item: index: int -&gt; &#39;T with get
  ...</div>
<div class="fsdocs-tip" id="fs27">val map: mapping: (&#39;T -&gt; &#39;U) -&gt; list: &#39;T list -&gt; &#39;U list</div>
<div class="fsdocs-tip" id="fs28">val sizeLambda: acc: &#39;a -&gt; _arg1: &#39;b -&gt; &#39;a</div>
<div class="fsdocs-tip" id="fs29">val acc: &#39;a</div>
<div class="fsdocs-tip" id="fs30">val body: &#39;b</div>
<div class="fsdocs-tip" id="fs31">val lam1: &#39;b</div>
<div class="fsdocs-tip" id="fs32">val lam2: &#39;b</div>
<div class="fsdocs-tip" id="fs33">val f: _arg1: &#39;a -&gt; int</div>
<div class="fsdocs-tip" id="fs34">val C1: &#39;a</div>
<div class="fsdocs-tip" id="fs35">module Printf

from Microsoft.FSharp.Core</div>
<div class="fsdocs-tip" id="fs36">val sprintf: format: Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs37">val printVolumes: x: &#39;a -&gt; unit</div>
<div class="fsdocs-tip" id="fs38">val x: &#39;a</div>
<div class="fsdocs-tip" id="fs39">val printf: format: Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs40">val printVolumes: x: &#39;a -&gt; &#39;b</div>
<div class="fsdocs-tip" id="fs41">val printListWithOffset: a: int -&gt; list1: int list -&gt; unit</div>
<div class="fsdocs-tip" id="fs42">val a: int</div>
<div class="fsdocs-tip" id="fs43">val list1: int list</div>
<div class="fsdocs-tip" id="fs44">val iter: action: (&#39;T -&gt; unit) -&gt; list: &#39;T list -&gt; unit</div>
<div class="fsdocs-tip" id="fs45">val elem: int</div>
<div class="fsdocs-tip" id="fs46">val function1: arg1: int -&gt; arg2: int -&gt; arg3: int -&gt; arg4: int -&gt; int</div>
<div class="fsdocs-tip" id="fs47">val arg1: int</div>
<div class="fsdocs-tip" id="fs48">val arg2: int</div>
<div class="fsdocs-tip" id="fs49">val arg3: int</div>
<div class="fsdocs-tip" id="fs50">val arg4: int</div>
<div class="fsdocs-tip" id="fs51">val methods2: System.Reflection.MethodInfo array</div>
<div class="fsdocs-tip" id="fs52">type AppDomain =
  inherit MarshalByRefObject
  member AppendPrivatePath: path: string -&gt; unit
  member ApplyPolicy: assemblyName: string -&gt; string
  member ClearPrivatePath: unit -&gt; unit
  member ClearShadowCopyPath: unit -&gt; unit
  member CreateInstance: assemblyName: string * typeName: string -&gt; ObjectHandle + 2 overloads
  member CreateInstanceAndUnwrap: assemblyName: string * typeName: string -&gt; obj + 2 overloads
  member CreateInstanceFrom: assemblyFile: string * typeName: string -&gt; ObjectHandle + 2 overloads
  member CreateInstanceFromAndUnwrap: assemblyFile: string * typeName: string -&gt; obj + 2 overloads
  member ExecuteAssembly: assemblyFile: string -&gt; int + 2 overloads
  ...<br /><em>&lt;summary&gt;Represents an application domain, which is an isolated environment where applications execute. This class cannot be inherited.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs53">property System.AppDomain.CurrentDomain: System.AppDomain with get<br /><em>&lt;summary&gt;Gets the current application domain for the current &lt;see cref=&quot;T:System.Threading.Thread&quot; /&gt;.&lt;/summary&gt;<br />&lt;returns&gt;The current application domain.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs54">System.AppDomain.GetAssemblies() : System.Reflection.Assembly array</div>
<div class="fsdocs-tip" id="fs55">val ofArray: array: &#39;T array -&gt; &#39;T list</div>
<div class="fsdocs-tip" id="fs56">val assm: System.Reflection.Assembly</div>
<div class="fsdocs-tip" id="fs57">System.Reflection.Assembly.GetTypes() : System.Type array</div>
<div class="fsdocs-tip" id="fs58">module Array

from Microsoft.FSharp.Collections</div>
<div class="fsdocs-tip" id="fs59">val concat: arrays: &#39;T array seq -&gt; &#39;T array</div>
<div class="fsdocs-tip" id="fs60">val t: System.Type</div>
<div class="fsdocs-tip" id="fs61">System.Type.GetMethods() : System.Reflection.MethodInfo array<br />System.Type.GetMethods(bindingAttr: System.Reflection.BindingFlags) : System.Reflection.MethodInfo array</div>
<div class="fsdocs-tip" id="fs62">module A

from FormattingConventions</div>
<div class="fsdocs-tip" id="fs63">val function1: a: int -&gt; b: int -&gt; int</div>
<div class="fsdocs-tip" id="fs64">val b: int</div>
<div class="fsdocs-tip" id="fs65">val function2: a: int -&gt; b: int -&gt; int</div>
<div class="fsdocs-tip" id="fs66">val comparer: obj</div>
<div class="fsdocs-tip" id="fs67">Multiple items<br />val string: value: &#39;T -&gt; string<br /><br />--------------------<br />type string = System.String</div>
<div class="fsdocs-tip" id="fs68">module String

from Microsoft.FSharp.Core</div>
<div class="fsdocs-tip" id="fs69">val rev: array: &#39;T array -&gt; &#39;T array</div>
<div class="fsdocs-tip" id="fs70">type IMyInterface =
  abstract Function1: int -&gt; int</div>
<div class="fsdocs-tip" id="fs71">Multiple items<br />val int: value: &#39;T -&gt; int (requires member op_Explicit)<br /><br />--------------------<br />type int = int32<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; =
  int</div>
<div class="fsdocs-tip" id="fs72">val makeStreamReader: x: string -&gt; System.IO.StreamReader</div>
<div class="fsdocs-tip" id="fs73">val x: string</div>
<div class="fsdocs-tip" id="fs74">namespace System.IO</div>
<div class="fsdocs-tip" id="fs75">Multiple items<br />type StreamReader =
  inherit TextReader
  new: stream: Stream -&gt; unit + 12 overloads
  member Close: unit -&gt; unit
  member DiscardBufferedData: unit -&gt; unit
  member Peek: unit -&gt; int
  member Read: unit -&gt; int + 2 overloads
  member ReadAsync: buffer: char array * index: int * count: int -&gt; Task&lt;int&gt; + 1 overload
  member ReadBlock: buffer: char array * index: int * count: int -&gt; int + 1 overload
  member ReadBlockAsync: buffer: char array * index: int * count: int -&gt; Task&lt;int&gt; + 1 overload
  member ReadLine: unit -&gt; string
  ...<br /><em>&lt;summary&gt;Implements a &lt;see cref=&quot;T:System.IO.TextReader&quot; /&gt; that reads characters from a byte stream in a particular encoding.&lt;/summary&gt;</em><br /><br />--------------------<br />System.IO.StreamReader(stream: System.IO.Stream) : System.IO.StreamReader<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.IO.StreamReader(path: string) : System.IO.StreamReader<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.IO.StreamReader(stream: System.IO.Stream, detectEncodingFromByteOrderMarks: bool) : System.IO.StreamReader<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.IO.StreamReader(stream: System.IO.Stream, encoding: System.Text.Encoding) : System.IO.StreamReader<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.IO.StreamReader(path: string, detectEncodingFromByteOrderMarks: bool) : System.IO.StreamReader<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.IO.StreamReader(path: string, options: System.IO.FileStreamOptions) : System.IO.StreamReader<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.IO.StreamReader(path: string, encoding: System.Text.Encoding) : System.IO.StreamReader<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.IO.StreamReader(stream: System.IO.Stream, encoding: System.Text.Encoding, detectEncodingFromByteOrderMarks: bool) : System.IO.StreamReader<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.IO.StreamReader(path: string, encoding: System.Text.Encoding, detectEncodingFromByteOrderMarks: bool) : System.IO.StreamReader<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.IO.StreamReader(stream: System.IO.Stream, encoding: System.Text.Encoding, detectEncodingFromByteOrderMarks: bool, bufferSize: int) : System.IO.StreamReader<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="fsdocs-tip" id="fs76">val c: int</div>

    </div>
</main>
<aside id="fsdocs-page-menu">
    <p id="on-this-page">On this page</p>
    <ul>
  <li class="level-1">
    <a href="#Formatting-Conventions">
      Formatting Conventions
    </a>
  </li>
  <li class="level-2">
    <a href="#General-rules-for-indentation">
      General rules for indentation
    </a>
  </li>
  <li class="level-3">
    <a href="#Using-spaces">
      Using spaces
    </a>
  </li>
  <li class="level-3">
    <a href="#Offside-rule">
      Offside rule
    </a>
  </li>
  <li class="level-2">
    <a href="#Formatting-rules-for-syntactic-constructs">
      Formatting rules for syntactic constructs
    </a>
  </li>
  <li class="level-3">
    <a href="#Type-definitions">
      Type definitions
    </a>
  </li>
  <li class="level-3">
    <a href="#Value-declarations">
      Value declarations
    </a>
  </li>
  <li class="level-4">
    <a href="#Tuples">
      Tuples
    </a>
  </li>
  <li class="level-4">
    <a href="#Records">
      Records
    </a>
  </li>
  <li class="level-4">
    <a href="#Lists-and-arrays">
      Lists and arrays
    </a>
  </li>
  <li class="level-4">
    <a href="#Discriminated-unions">
      Discriminated unions
    </a>
  </li>
  <li class="level-3">
    <a href="#Conditional-expressions">
      Conditional expressions
    </a>
  </li>
  <li class="level-4">
    <a href="#Multiple-branches">
      Multiple branches
    </a>
  </li>
  <li class="level-4">
    <a href="#Single-branches">
      Single branches
    </a>
  </li>
  <li class="level-3">
    <a href="#Pattern-matching-constructs">
      Pattern matching constructs
    </a>
  </li>
  <li class="level-3">
    <a href="#Function-applications">
      Function applications
    </a>
  </li>
  <li class="level-3">
    <a href="#Infix-operators">
      Infix operators
    </a>
  </li>
  <li class="level-3">
    <a href="#Pipeline-operators">
      Pipeline operators
    </a>
  </li>
  <li class="level-3">
    <a href="#Modules">
      Modules
    </a>
  </li>
  <li class="level-3">
    <a href="#Object-expressions-and-interfaces">
      Object expressions and interfaces
    </a>
  </li>
  <li class="level-3">
    <a href="#Whitespaces">
      Whitespaces
    </a>
  </li>
  <li class="level-3">
    <a href="#Blank-lines">
      Blank lines
    </a>
  </li>
  <li class="level-4">
    <a href="#2020-Revision">
      2020 Revision
    </a>
  </li>
  <li class="level-3">
    <a href="#Comments">
      Comments
    </a>
  </li>
  <li class="level-2">
    <a href="#Conclusions">
      Conclusions
    </a>
  </li>
  <li class="level-2">
    <a href="#References">
      References
    </a>
  </li>
</ul>
</aside>
<dialog>
    <input type="search" placeholder="Search docs" />
    <div class="results">
        <ul></ul>
        <p class="empty">Type something to start searching.</p>
    </div>
</dialog>
<script type="module" src="https://fsprojects.github.io/fantomas/content/fsdocs-tips.js"></script>
<script type="module" src="https://fsprojects.github.io/fantomas/content/fsdocs-theme-toggle.js"></script>
<script type="module" src="https://fsprojects.github.io/fantomas/content/fsdocs-details-toggle.js"></script>
<script type="module" src="https://fsprojects.github.io/fantomas/content/fsdocs-theme.js"></script>
<script type="module" src="https://fsprojects.github.io/fantomas/content/fsdocs-search.js"></script>
<script type="module">
    import mermaid from "https://esm.sh/mermaid@9.2.2";
    mermaid.initialize({
        startOnLoad: true,
        theme: "base",
        themeVariables: {
            primaryColor: '#338cbb',
            primaryTextColor: '#FFF',
            primaryBorderColor: '#5aacd6'
        }
    });

    const menuHeaders = [...document.querySelectorAll(".nav-header")].filter(nh => nh.id);
    menuHeaders.forEach(nv => {
        nv.addEventListener("click", () => {
            nv.classList.toggle("active");
        })
    })
</script>
<script type="module" src="https://fsprojects.github.io/fantomas/content/webcomponents.js"></script>
</body>
</html>